
<!doctype html>
<html lang="fr" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Documentation pour construire un homelab s√©curis√© et complet">
      
      
        <meta name="author" content="krhsaay">
      
      
      
        <link rel="prev" href="../reverse-proxy/">
      
      
        <link rel="next" href="../torrent-vpn/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.15">
    
    
      
        <title>DNS Dynamique (DDNS) - Cyber Doc</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.342714a4.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#dns-dynamique-et-dns-local-comparatif-et-guide-technique" class="md-skip">
          Aller au contenu
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="En-t√™te">
    <a href="../.." title="Cyber Doc" class="md-header__button md-logo" aria-label="Cyber Doc" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Cyber Doc
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              DNS Dynamique (DDNS)
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Rechercher" placeholder="Rechercher" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Recherche">
        
        <button type="reset" class="md-search__icon md-icon" title="Effacer" aria-label="Effacer" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initialisation de la recherche
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



  

<nav class="md-nav md-nav--primary md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Cyber Doc" class="md-nav__button md-logo" aria-label="Cyber Doc" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Cyber Doc
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Accueil
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    üèó Infrastructure
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            üèó Infrastructure
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../infrastructure/proxmox/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Proxmox VE
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../infrastructure/stockage/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Stockage
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../infrastructure/reseau/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    R√©seau & VLANs
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../infrastructure/lxc-vs-vm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    LXC vs VM
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    üåê R√©seau
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            üåê R√©seau
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dashboard/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Dashboards
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dns/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    DNS (Pi-hole, AdGuard...)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../vpn-remote-access/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Acc√®s VPN distant
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reverse-proxy/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Reverse Proxy
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    DNS Dynamique (DDNS)
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    DNS Dynamique (DDNS)
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table des mati√®res">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table des mati√®res
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introduction-au-dns-dynamique-ddns" class="md-nav__link">
    <span class="md-ellipsis">
      Introduction au DNS dynamique (DDNS)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#comparaison-technique-des-services-ddns-cloudflare-duckdns-no-ip-etc" class="md-nav__link">
    <span class="md-ellipsis">
      Comparaison technique des services DDNS (Cloudflare, DuckDNS, No-IP, etc.)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Comparaison technique des services DDNS (Cloudflare, DuckDNS, No-IP, etc.)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cloudflare-dns-dynamique-via-api-sur-son-propre-domaine" class="md-nav__link">
    <span class="md-ellipsis">
      Cloudflare (DNS dynamique via API sur son propre domaine)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#duckdns-service-ddns-gratuit" class="md-nav__link">
    <span class="md-ellipsis">
      DuckDNS (service DDNS gratuit)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#no-ip-service-freemium-historique" class="md-nav__link">
    <span class="md-ellipsis">
      No-IP (service freemium, historique)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#autres-alternatives-notables" class="md-nav__link">
    <span class="md-ellipsis">
      Autres alternatives notables
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scenarios-dusage-types-avec-le-dns-dynamique" class="md-nav__link">
    <span class="md-ellipsis">
      Sc√©narios d‚Äôusage types avec le DNS dynamique
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Sc√©narios d‚Äôusage types avec le DNS dynamique">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-homelab-derriere-une-ip-dynamique-acces-distant-a-un-reseau-domestique" class="md-nav__link">
    <span class="md-ellipsis">
      1. Homelab derri√®re une IP dynamique (acc√®s distant √† un r√©seau domestique)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-integration-avec-un-reverse-proxy-pour-multi-services" class="md-nav__link">
    <span class="md-ellipsis">
      2. Int√©gration avec un reverse proxy pour multi-services
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-considerations-de-securite-et-bonnes-pratiques" class="md-nav__link">
    <span class="md-ellipsis">
      3. Consid√©rations de s√©curit√© et bonnes pratiques
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#serveurs-dns-locaux-unbound-dnsmasq-et-leur-role-en-reseau-domestique" class="md-nav__link">
    <span class="md-ellipsis">
      Serveurs DNS locaux (Unbound, Dnsmasq) et leur r√¥le en r√©seau domestique
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Serveurs DNS locaux (Unbound, Dnsmasq) et leur r√¥le en r√©seau domestique">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#role-dun-dns-local-dans-une-architecture-domestique" class="md-nav__link">
    <span class="md-ellipsis">
      R√¥le d‚Äôun DNS local dans une architecture domestique
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#unbound-vs-dnsmasq-differences-et-complementarite" class="md-nav__link">
    <span class="md-ellipsis">
      Unbound vs. Dnsmasq : diff√©rences et compl√©mentarit√©
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mise-en-place-dans-un-reseau-domestique" class="md-nav__link">
    <span class="md-ellipsis">
      Mise en place dans un r√©seau domestique
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#guide-de-configuration-clients-ddns-et-integration-routeur" class="md-nav__link">
    <span class="md-ellipsis">
      Guide de configuration : clients DDNS et int√©gration routeur
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Guide de configuration : clients DDNS et int√©gration routeur">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#clients-et-scripts-pour-le-dns-dynamique" class="md-nav__link">
    <span class="md-ellipsis">
      Clients et scripts pour le DNS dynamique
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#exemples-de-configuration-rapides" class="md-nav__link">
    <span class="md-ellipsis">
      Exemples de configuration rapides
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mise-en-place-dun-dns-local" class="md-nav__link">
    <span class="md-ellipsis">
      Mise en place d‚Äôun DNS local
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#conclusion" class="md-nav__link">
    <span class="md-ellipsis">
      Conclusion
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../torrent-vpn/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    VPN et torrents
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    üß∞ Outils
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            üß∞ Outils
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../outils/gestion-fichiers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Gestion de fichiers
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../outils/gestion-mots-de-passe/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Mots de passe (Vaultwarden...)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../outils/favoris/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Favoris et veille (Hoarder)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../outils/docker/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Docker & Portainer
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    üì∫ M√©dia
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            üì∫ M√©dia
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../media/streaming/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Streaming (Jellyfin, Plex)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../media/overseerr-sonarr/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Sonarr, Overseerr
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../media/clients-download.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    T√©l√©chargements (qBittorrent)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../media/photos/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Photos (Immich)
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    üè† Domotique
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            üè† Domotique
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../domotique/homeassistant/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home Assistant
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../domotique/zigbee/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Zigbee2MQTT
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../domotique/surveillance/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Vid√©osurveillance (Frigate)
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    üìä Monitoring
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            üìä Monitoring
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../monitoring/grafana/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Grafana
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../monitoring/prometheus-influx/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Prometheus / InfluxDB
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../monitoring/netalert/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    NetAlertX
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    üîê S√©curit√©
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            üîê S√©curit√©
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../securite/vaultwarden/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Vaultwarden
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../securite/authentification/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Authentification MFA
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../securite/siem/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    SIEM (Wazuh, ELK...)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../securite/segmentation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Segmentation & honeypots
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_9" >
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    üß™ DIY
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            üß™ DIY
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../diy/esp32/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ESP32 & capteurs
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../diy/octoprint.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    OctoPrint & impression 3D
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../diy/n8n.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    N8N Automatisation
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="dns-dynamique-et-dns-local-comparatif-et-guide-technique"><strong>DNS Dynamique et DNS Local : Comparatif et Guide Technique</strong><a class="headerlink" href="#dns-dynamique-et-dns-local-comparatif-et-guide-technique" title="Permanent link">&para;</a></h1>
<h2 id="introduction-au-dns-dynamique-ddns"><strong>Introduction au DNS dynamique (DDNS)</strong><a class="headerlink" href="#introduction-au-dns-dynamique-ddns" title="Permanent link">&para;</a></h2>
<p><strong>Sch√©ma ‚Äì Fonctionnement d‚Äôun service de DNS dynamique.</strong>  Un routeur partage son IP actuelle avec le serveur DynDNS, qui associe cette IP au nom d‚Äôh√¥te (ici  <em>homexyz</em>). Le routeur devient alors joignable via une URL fixe (<em>homexyz.dyndns.org</em>), malgr√© la variabilit√© de son adresse IP  . Le DNS dynamique (DDNS) est un m√©canisme qui  <strong>met √† jour automatiquement un enregistrement DNS</strong>  lorsque l‚Äôadresse IP publique d‚Äôun client change  . Cela permet d‚Äôacc√©der √† une machine ou un service chez soi via un nom de domaine stable, m√™me si l‚ÄôIP fournie par le FAI est dynamique et change r√©guli√®rement. En pratique, un petit programme (client DDNS) s‚Äôex√©cute sur votre routeur ou serveur local, surveille les changements d‚ÄôIP et informe le fournisseur de DDNS lorsque n√©cessaire. Ce dernier met √† jour l‚Äôenregistrement DNS (g√©n√©ralement de type A pour IPv4 et AAAA pour IPv6) pointant vers la nouvelle IP. Ainsi, les  <strong>clients peuvent toujours utiliser le m√™me nom de domaine</strong>  pour atteindre votre r√©seau domestique, sans se soucier des changements d‚Äôadresse  .</p>
<h2 id="comparaison-technique-des-services-ddns-cloudflare-duckdns-no-ip-etc"><strong>Comparaison technique des services DDNS (Cloudflare, DuckDNS, No-IP, etc.)</strong><a class="headerlink" href="#comparaison-technique-des-services-ddns-cloudflare-duckdns-no-ip-etc" title="Permanent link">&para;</a></h2>
<p>Plusieurs services de DNS dynamique coexistent, chacun avec ses atouts, limitations et modalit√©s. Nous pr√©sentons ci-dessous un comparatif technique des solutions populaires, notamment  <strong>Cloudflare DDNS</strong>,  <strong>DuckDNS</strong>,  <strong>No-IP</strong>, ainsi que quelques alternatives, en examinant leurs caract√©ristiques principales.</p>
<h3 id="cloudflare-dns-dynamique-via-api-sur-son-propre-domaine"><strong>Cloudflare (DNS dynamique via API sur son propre domaine)</strong><a class="headerlink" href="#cloudflare-dns-dynamique-via-api-sur-son-propre-domaine" title="Permanent link">&para;</a></h3>
<p><strong>Cloudflare</strong>  n‚Äôest pas √† proprement parler un service DDNS traditionnel, mais la popularit√© de son offre DNS gratuite fait qu‚Äôon peut l‚Äôutiliser pour du DNS dynamique en mettant √† jour ses enregistrements via l‚ÄôAPI. Il faut  <strong>d√©tenir son propre nom de domaine</strong>  et le configurer sur Cloudflare (plan gratuit). Ensuite, on utilise l‚ÄôAPI de Cloudflare pour mettre √† jour l‚Äôenregistrement DNS pointant vers l‚ÄôIP dynamique. Cloudflare recommande d‚Äôailleurs cette approche : un script local peut surveiller les changements d‚ÄôIP et pousser les mises √† jour via l‚ÄôAPI Cloudflare  . Alternativement, on peut utiliser un client existant comme  <strong>ddclient</strong>  (un utilitaire compatible avec de nombreux fournisseurs DNS) qui supporte Cloudflare nativement  .</p>
<ul>
<li>
<p><strong>Co√ªt</strong> : Cloudflare ne facture pas ce service ‚Äì le plan gratuit Cloudflare DNS suffit, hormis l‚Äôachat du nom de domaine aupr√®s d‚Äôun registrar.</p>
</li>
<li>
<p><strong>M√©canisme</strong> : la mise √† jour se fait via des requ√™tes HTTPS √† l‚ÄôAPI REST de Cloudflare, en fournissant un  <strong>token API</strong>  ou une cl√© API globale pour authentification. Il est  <strong>recommand√© d‚Äôutiliser un token API restreint</strong>  aux droits DNS sur la zone concern√©e, par mesure de s√©curit√©  . Dans l‚Äôinterface Cloudflare, on cr√©e un jeton avec permissions ¬´ Zone : DNS : Edit ¬ª sur le domaine cible. Ce token pourra √™tre utilis√© par ddclient ou un script maison. Par exemple, sur OPNsense on configurera  <em>Username</em>  = ‚Äútoken‚Äù et  <em>Password</em>  = le token API Cloudflare  .</p>
</li>
<li>
<p><strong>Domaine et h√¥tes</strong> : Cloudflare permet d‚Äôutiliser  <strong>son propre domaine</strong>  (ex.  <em>monserveur.maison.com</em>). On peut mettre √† jour un ou plusieurs enregistrements (sous-domaines) de ce domaine. Il n‚Äôy a pas de limite stricte sur le nombre d‚Äôh√¥tes g√©r√©s dynamiquement (en pratique, on peut avoir de multiples sous-domaines). On peut aussi tirer parti de plusieurs domaines si on en poss√®de, le tout via le m√™me compte Cloudflare.</p>
</li>
<li>
<p><strong>Propagation &amp; TTL</strong> : Les enregistrements DNS chez Cloudflare peuvent avoir un TTL tr√®s bas (jusqu‚Äô√†  <strong>60 secondes</strong>  sur les enregistrements non-proxy  ). Cela signifie qu‚Äôen cas de changement d‚ÄôIP, la nouvelle IP se propage rapidement.  <em>Note:</em>  Si l‚Äôenregistrement est pass√© en mode proxy (CDN Cloudflare activ√©, ¬´ orange cloud ¬ª), le TTL est g√©r√© diff√©remment car les clients voient l‚ÄôIP du proxy Cloudflare.</p>
</li>
<li>
<p><strong>Avantages</strong> : mise √† jour rapide, usage de son propre nom de domaine (plus professionnel), aucun besoin de confirmer p√©riodiquement l‚Äôactivit√© (pas d‚Äôexpiration tant que le domaine est valide), int√©gration possible avec d‚Äôautres fonctionnalit√©s Cloudflare (proxy web, pare-feu applicatif, certificats SSL gratuits, DNSSEC, etc.). De plus, Cloudflare √©tant un DNS anycast mondial, la  <strong>fiabilit√© et rapidit√© de r√©solution</strong>  sont excellentes.</p>
</li>
<li>
<p><strong>Inconv√©nients</strong> : n√©cessite de g√©rer un nom de domaine (co√ªt annuel du domaine, configuration des serveurs NS vers Cloudflare). L‚Äôint√©gration n‚Äôest pas ¬´ plug-and-play ¬ª sur tous les √©quipements : peu de routeurs grand public proposent Cloudflare en option DDNS, il faudra souvent recourir √† un script ou √† la fonction ¬´ Custom DDNS ¬ª. La s√©curit√© doit √™tre bien configur√©e (utilisation d‚Äôun token limit√©) car une compromission du token pourrait permettre de d√©tourner votre DNS. Enfin, Cloudflare n‚Äôoffre pas d‚Äôoption simple de sous-domaine gratuit g√©n√©rique (contrairement √† DuckDNS, No-IP‚Ä¶), il faut utiliser un domaine √† soi.</p>
</li>
</ul>
<h3 id="duckdns-service-ddns-gratuit"><strong>DuckDNS (service DDNS gratuit)</strong><a class="headerlink" href="#duckdns-service-ddns-gratuit" title="Permanent link">&para;</a></h3>
<p><strong>DuckDNS</strong>  est un service de DNS dynamique enti√®rement gratuit, op√©r√© de mani√®re communautaire (soutenu par des dons), tr√®s appr√©ci√© pour sa simplicit√©. Il fournit des sous-domaines sous la forme  *.duckdns.org. Quelques points cl√©s :</p>
<ul>
<li>
<p><strong>Co√ªt et limites</strong> : DuckDNS est 100‚ÄØ% gratuit, sans offre payante. Chaque compte peut cr√©er  <strong>jusqu‚Äô√† 5 sous-domaines</strong>  DuckDNS (on peut en obtenir davantage sur demande dans certains cas)  . Cette limite de 5 est g√©n√©ralement suffisante pour un usage personnel (ex.  <em>maison.duckdns.org</em>,  <em>cloud.duckdns.org</em>, etc.).</p>
</li>
<li>
<p><strong>Mise √† jour</strong> : L‚ÄôAPI DuckDNS est extr√™mement simple : la mise √† jour se fait via une requ√™te HTTP (ou HTTPS) contenant un  <strong>token d‚Äôauthentification unique</strong>  et le nom de domaine. Par exemple :  https://www.duckdns.org/update?domains=monhote&amp;token=abcdef123456&amp;ip=1.2.3.4. De nombreux scripts tout pr√™ts existent. DuckDNS fournit d‚Äôailleurs des instructions pour divers OS (Windows, Linux, macOS) et peut √™tre int√©gr√© dans des scripts shell, cron, containers Docker, etc. Par exemple, pour Docker, on trouve des images l√©g√®res qui appellent p√©riodiquement l‚ÄôURL DuckDNS. Sur Home Assistant, une extension DuckDNS facilite l‚Äôint√©gration (y compris l‚Äôobtention d‚Äôun certificat SSL via Let‚Äôs Encrypt).</p>
</li>
<li>
<p><strong>Avantages</strong> : extr√™me simplicit√© et l√©g√®ret√©. Pas de cr√©ation de compte complexe : on s‚Äôauthentifie via un compte GitHub, Google ou autre provider OAuth pour obtenir son token.  <strong>Aucune confirmation mensuelle</strong>  n‚Äôest requise : une fois configur√©, le sous-domaine reste actif tant qu‚Äôil est r√©guli√®rement mis √† jour. Le service supporte IPv6 √©galement. DuckDNS n‚Äôimpose pas de fr√©quence minimale ou maximale de mise √† jour, mais typiquement un cron toutes les 5 minutes ou √† chaque changement d‚ÄôIP suffit. La communaut√© Homelab/auto-h√©bergement le recommande souvent pour sa fiabilit√© globale et son  <strong>int√©gration facile √† des projets DIY</strong>  (automatisation, scripts).</p>
</li>
<li>
<p><strong>Inconv√©nients</strong> : d√©pendance √† un service gratuit g√©r√© par une petite √©quipe (disponibilit√© g√©n√©ralement bonne mais il y a eu de rares interruptions rapport√©es  ). Le choix du domaine est limit√© √†  duckdns.org  (pas d‚Äôautres suffixes), ce qui peut faire moins ¬´ professionnel ¬ª ou √™tre plus facile √† deviner. DuckDNS n‚Äôoffre pas de fonctionnalit√©s annexes (pas de gestion de DNS complexes, pas de support client d√©di√© ‚Äì juste une FAQ et forum). N√©anmoins, pour un usage personnel, ces limites sont tr√®s acceptables.</p>
</li>
</ul>
<h3 id="no-ip-service-freemium-historique"><strong>No-IP (service freemium, historique)</strong><a class="headerlink" href="#no-ip-service-freemium-historique" title="Permanent link">&para;</a></h3>
<p><strong>No-IP</strong>  est l‚Äôun des plus anciens services de DNS dynamique (concurrent de DynDNS √† l‚Äô√©poque). Il fonctionne sur un mod√®le freemium : il existe un niveau gratuit limit√©, et des offres payantes avec plus de fonctionnalit√©s. Caract√©ristiques :</p>
<ul>
<li>
<p><strong>Offre gratuite</strong> : Permet aujourd‚Äôhui  <strong>1 hostname actif</strong>  (sous-domaine) sur un compte gratuit  . Historiquement, No-IP offrait 3 h√¥tes gratuits, mais les conditions ont chang√© ces derni√®res ann√©es. Le sous-domaine peut √™tre choisi parmi une  <strong>trentaine de noms de domaine propos√©s</strong>  par No-IP (ex.  <em>ddns.net</em>,  <em>hopto.org</em>,  <em>zapto.org</em>, etc.). Cela donne un peu de diversit√© (si par exemple  <em>monserveur.hopto.org</em>  est pris, on peut essayer  <em>monserveur.ddns.net</em>, etc.).</p>
</li>
<li>
<p><strong>Expiration/confirmation</strong> : La contrainte majeure de l‚Äôoffre gratuite est la n√©cessit√© de  <strong>confirmer p√©riodiquement</strong>que le hostname est toujours utilis√©. Concr√®tement,  <strong>tous les 30 jours</strong>  No-IP envoie un email de confirmation √† l‚Äôutilisateur, qui doit cliquer un lien pour √©viter la d√©sactivation de son DNS  . Si on ne confirme pas, l‚Äôh√¥te passe en √©tat ¬´ Expired ¬ª puis ¬´ Redemption ¬ª et finit par √™tre supprim√©  . Cette politique vise √† lib√©rer les noms non utilis√©s, mais c‚Äôest une contrainte √† ne pas n√©gliger (ou bien il faut passer en offre payante pour s‚Äôen affranchir).</p>
</li>
<li>
<p><strong>Offre Enhanced/Premium</strong> : No-IP propose des abonnements payants relativement abordables supprimant la confirmation mensuelle et autorisant plus d‚Äôh√¥tes (par ex. l‚Äôoffre Enhanced ~5$/mois pour 5 hostnames, l‚Äôoffre  <strong>Plus</strong>ou  <strong>Professional</strong>  pour davantage d‚Äôh√¥tes et son propre domaine, etc.  ). Les offres payantes permettent aussi d‚Äôutiliser des enregistrements DNS avanc√©s (MX, TXT), un support client, etc.</p>
</li>
<li>
<p><strong>Clients et int√©gration</strong> : No-IP √©tant ancien et r√©pandu,  <strong>de nombreux routeurs et NAS int√®grent nativement un client No-IP</strong>. Il suffit souvent d‚Äôentrer son username, mot de passe et nom d‚Äôh√¥te dans l‚Äôinterface du routeur pour que celui-ci mette √† jour l‚ÄôIP automatiquement. No-IP fournit aussi son application de mise √† jour (<strong>DUC ‚Äì Dynamic Update Client</strong>) sur Windows/Linux, ainsi qu‚Äôun client en ligne de commande. L‚ÄôAPI simple (protocole proche de DynDNS v2) permet d‚Äôutiliser des clients g√©n√©riques (ddclient, inadyn, etc.).</p>
</li>
<li>
<p><strong>Avantages</strong> : Fiabilit√© d‚Äôune soci√©t√© √©tablie (No-IP revendique 100% de disponibilit√© DNS).  <strong>Large choix de domaines</strong>  gratuits qui peuvent √™tre plus m√©morables que les concurrents. Int√©gration plug-and-play sur beaucoup d‚Äô√©quipements. Possibilit√© d‚Äô√©volution vers des offres avanc√©es (par exemple, utiliser votre propre nom de domaine avec No-IP comme gestionnaire DNS dynamique : leur offre Plus g√®re jusqu‚Äô√† 50 h√¥tes sur votre domaine personnalis√©  ).</p>
</li>
<li>
<p><strong>Inconv√©nients</strong> : La confirmation mensuelle est souvent vue comme une corv√©e (il ne faut pas oublier de cliquer sous peine de coupure). Un seul h√¥te gratuit limite l‚Äôutilisation multi-services (mais on peut contourner partiellement avec un wildcard, voir plus bas). Le service gratuit comporte de la publicit√© (emails de rappel, et auparavant les redirections web affichaient des banni√®res, bien que ce soit moins un probl√®me pour un simple enregistrement A). Enfin, No-IP a pu √™tre cibl√© par certains blocages ou abus dans le pass√© (des malware utilisaient des h√¥tes No-IP, entra√Ænant parfois des blocages temporaires de certains domaines No-IP par des FAI ou entreprises). Ce n‚Äôest pas commun, mais √† savoir.</p>
</li>
</ul>
<h3 id="autres-alternatives-notables"><strong>Autres alternatives notables</strong><a class="headerlink" href="#autres-alternatives-notables" title="Permanent link">&para;</a></h3>
<p>En dehors de Cloudflare, DuckDNS et No-IP, il existe d‚Äôautres services DynDNS, chacun avec ses particularit√©s :</p>
<ul>
<li>
<p><strong>FreeDNS (Afraid.org)</strong> : Service gratuit ancien et fiable, qui offre jusqu‚Äô√†  <strong>5 sous-domaines gratuits</strong>  . Son point fort est le grand choix de domaines publics partag√©s (plus de 50) parmi lesquels choisir son sous-domaine. Par exemple  <em>.mooo.com  (tr√®s utilis√©),  </em>.afraid.org, etc. L‚Äôinterface est un peu rustique, mais c‚Äôest efficace. FreeDNS propose aussi une formule payante augmentant le nombre de sous-domaines (50 √† 500) et offrant des options comme les wildcards et un branding sans r√©f√©rence √† Afraid.org  .</p>
</li>
<li>
<p><strong>Dynu</strong> : Un fournisseur moderne qui offre un service gratuit de DNS dynamique  <strong>sans expiration</strong>. D‚Äôapr√®s certaines ressources, la version gratuite de Dynu permettrait plusieurs hostnames (jusqu‚Äô√† 30) mais avec certaines limitations  . Cependant, il semble qu‚Äôil faille cr√©er un compte et que les fonctionnalit√©s compl√®tes (DNSSEC, plus de domaines, etc.) n√©cessitent un abonnement modique. √Ä v√©rifier, car le comparatif IONOS mentionne une p√©riode d‚Äôessai de 7 jours pour la version gratuite  ‚Äì ce point peut pr√™ter √† confusion. N√©anmoins, Dynu est souvent cit√© comme alternative, avec client d√©di√© et API.</p>
</li>
<li>
<p><strong>Securepoint DynDNS</strong> : Service gratuit propos√© par une entreprise allemande, limit√© √†  <strong>5 h√¥tes</strong>  mais offrant un  <strong>choix de 100 domaines</strong>  diff√©rents  . N√©cessite une inscription. Supporte IPv6 et fournit un ‚Äútoken‚Äù de mise √† jour unique pour usage dans les clients. Plut√¥t destin√© aux utilisateurs europ√©ens (site en allemand/anglais).</p>
</li>
<li>
<p><strong>YDNS</strong> : Service gratuit (g√©r√© par une association allemande) offrant des domaines sous  ydns.eu  ou la possibilit√© d‚Äôutiliser son propre domaine. Avantage :  <strong>supporte DNSSEC</strong>  pour les domaines personnalis√©s. Nombre d‚Äôh√¥tes illimit√© annonc√©  . Interface minimaliste, API possible.</p>
</li>
<li>
<p><strong>deSEC (dedyn.io)</strong> : Solution  <strong>non-profit bas√©e en Allemagne</strong>, orient√©e s√©curit√©. deSEC offre gratuitement de g√©rer vos domaines avec DNSSEC et API, ainsi que des sous-domaines sous  dedyn.io. On peut y voir un  <strong>v√©ritable gestionnaire de DNS dynamique moderne</strong>. Limite : ~15 domaines par compte (mais extensible sur demande)  . Pas de pub, pas d‚Äôoffre payante, tout est financ√© par dons/recherche. Compatible directement avec les clients ACME (Let‚Äôs Encrypt) pour la validation DNS. C‚Äôest une alternative robuste et ouverte √† DuckDNS/no-ip, pour utilisateurs avanc√©s  .</p>
</li>
<li>
<p><strong>Dyn.com (Oracle DynDNS)</strong> : Historiquement  <em>LE</em>  service DynDNS, tr√®s connu il y a 15 ans, mais il n‚Äôest plus disponible gratuitement depuis longtemps. Oracle (qui a rachet√© Dyn) a m√™me annonc√© l‚Äôarr√™t complet du service grand public en 2022. Il n‚Äôest donc plus √† consid√©rer pour un nouvel usage.</p>
</li>
<li>
<p><strong>Autres</strong> : citons encore  <strong>Google Domains</strong>  qui offrait un DDNS pour les domaines enregistr√©s chez eux (mais Google Domains est en cours de reprise par Squarespace en 2023-2024),  <strong>OVH DynHost</strong>  (pour les domaines chez OVH),  <strong>Namecheap Dynamic DNS</strong>  (pour domaines chez Namecheap) ‚Äì ces services attach√©s aux registrars peuvent √™tre utiles si vous avez achet√© le domaine chez eux. Enfin, il existe la possibilit√© d‚Äô<strong>auto-h√©berger son propre service DDNS</strong>  (par exemple via un script PHP ou un petit serveur DNS avec mise √† jour par requ√™te HTTP), mais ceci d√©passe le cadre de la comparaison ‚Äì c‚Äôest faisable pour les makers cherchant un contr√¥le total.</p>
</li>
</ul>
<p><strong>Wildcards et cas multi-sous-domaines</strong> : Une question fr√©quente est la prise en charge des  <strong>wildcards DNS</strong>  (par exemple  <em>.maison.ddns.net). La plupart des services gratuits  </em><em>n‚Äôautorisent pas de wildcard sur un domaine gratuit</em><em>, ou seulement avec une offre payante (No-IP le permet en payant). Cloudflare permet des wildcards sur votre domaine, mais Let‚Äôs Encrypt par exemple n√©cessite un d√©fi DNS pour obtenir un certificat wildcard. En pratique, si on veut exposer plusieurs services derri√®re une IP dynamique, deux approches : 1) mettre √† jour  </em><em>plusieurs enregistrements A</em><em>  (ex:  <em>service1.mondomaine.com</em>,  <em>service2.mondomaine.com</em>  ‚Äì Cloudflare API ou le client peut g√©rer plusieurs hostnames), ou 2) utiliser un nom d‚Äôh√¥te dynamique principal et faire des  </em><em>CNAME</em>*  pour les autres. Par exemple, avec DuckDNS on a  maison.duckdns.org  mis √† jour; on peut pointer  <em>nextcloud.mondomaineperso.com CNAME maison.duckdns.org</em>  ‚Äì ainsi ce CNAME suivra l‚ÄôIP dynamique indirectement. Cette m√©thode mixte est utile si on tient √† utiliser un nom de domaine personnalis√© sans g√©rer l‚ÄôAPI soi-m√™me.</p>
<h2 id="scenarios-dusage-types-avec-le-dns-dynamique"><strong>Sc√©narios d‚Äôusage types avec le DNS dynamique</strong><a class="headerlink" href="#scenarios-dusage-types-avec-le-dns-dynamique" title="Permanent link">&para;</a></h2>
<p>Dans quel contexte a-t-on besoin de DNS dynamique ? Voici trois sc√©narios courants de la vie d‚Äôun homelab ou r√©seau domestique, illustrant l‚Äôusage du DDNS et les consid√©rations associ√©es.</p>
<h3 id="1-homelab-derriere-une-ip-dynamique-acces-distant-a-un-reseau-domestique"><strong>1. Homelab derri√®re une IP dynamique (acc√®s distant √† un r√©seau domestique)</strong><a class="headerlink" href="#1-homelab-derriere-une-ip-dynamique-acces-distant-a-un-reseau-domestique" title="Permanent link">&para;</a></h3>
<p>Imaginons une personne qui h√©berge chez elle un  <strong>serveur NAS</strong>  ou des services web (site personnel, cloud priv√© type Nextcloud, cam√©ra de surveillance, etc.). Son FAI lui attribue une IP publique dynamique qui change r√©guli√®rement (par exemple √† chaque red√©marrage de box, ou tous les X jours). Sans DNS dynamique, il faudrait conna√Ætre l‚ÄôIP √† jour et la communiquer √† chaque fois ‚Äì impraticable. Le DDNS r√©sout ce probl√®me : on configure un nom de domaine (par ex.  <em>mynas.duckdns.org</em>) et un client DDNS sur la box ou le NAS. D√©sormais, l‚Äôutilisateur peut acc√©der √† son NAS en utilisant ce  <strong>nom de domaine fixe</strong>, que ce soit pour se connecter en SSH, en HTTP, ou pour toute autre application (ex: configurer un client de sauvegarde vers  mynas.duckdns.org). Le service DDNS garantit que ce nom pointe vers la bonne IP m√™me apr√®s un changement.</p>
<p>Dans ce sc√©nario, on  <strong>configure le routeur pour rediriger les ports n√©cessaires</strong>  vers le serveur interne. Par exemple, on peut ouvrir le port 443 vers le NAS pour acc√©der √† l‚Äôinterface web.  <strong>C√¥t√© s√©curit√©</strong>, il est recommand√© d‚Äôutiliser des certificats SSL (ex: via Let‚Äôs Encrypt, qui accepte les noms de domaine DuckDNS ou autres) pour chiffrer les connexions externes. Le nom de domaine dynamique permet justement d‚Äôobtenir et renouveler ces certificats automatiquement.</p>
<p>Si l‚Äôon souhaite un acc√®s plus s√©curis√©, on pourrait n‚Äôexposer aucun port et passer par un VPN ou un tunnel. Par exemple, Tailscale (VPN maill√©) ou Cloudflare Tunnel (agent qui sortant qui enregistre le service chez Cloudflare) sont des alternatives pour √©viter des ouvertures de ports. Ces solutions utilisent aussi DNS (Cloudflare Tunnel fournit un nom en  <em>tunnels.dev</em>, Tailscale peut g√©rer des MagicDNS internes), mais elles sortent du cadre du DDNS classique. Retenons qu‚Äôun homelab accessible via DDNS doit √™tre  <strong>prot√©g√© comme un serveur en ligne</strong> : mises √† jour, pare-feu, mots de passe forts, etc., car il devient joignable depuis Internet par son nom.</p>
<h3 id="2-integration-avec-un-reverse-proxy-pour-multi-services"><strong>2. Int√©gration avec un reverse proxy pour multi-services</strong><a class="headerlink" href="#2-integration-avec-un-reverse-proxy-pour-multi-services" title="Permanent link">&para;</a></h3>
<p>Beaucoup d‚Äôauto-h√©bergeurs d√©ploient plusieurs services web sur la m√™me IP (ex: serveur web, interface domotique, cam√©ra IP, etc.). Gr√¢ce au DNS dynamique, on peut utiliser  <strong>plusieurs sous-domaines</strong>  qui pointent tous vers la m√™me IP publique. Ensuite, un  <strong>reverse proxy</strong>  local (Nginx, Traefik, Caddy‚Ä¶) se charge de distribuer le trafic entrant vers le bon service en fonction du nom de domaine requis.</p>
<p>Concr√®tement, on peut avoir par exemple un nom de domaine dynamique principal  ma-maison.fr  (g√©r√© via Cloudflare ou autre). On cr√©e des enregistrements pour  <em>nextcloud.ma-maison.fr</em>,  <em>camera.ma-maison.fr</em>,  <em>homeassistant.ma-maison.fr</em>  ‚Äì tous pointent √† l‚Äôadresse IP de la box. Sur le routeur, on a une redirection du port 443 vers la machine h√©bergeant le reverse proxy (ex: un Raspberry Pi). Ce reverse proxy voit la requ√™te arriv√©e et, gr√¢ce au SNI du TLS ou √† l‚ÄôHost HTTP, fait suivre aux bons serveurs internes.</p>
<p><strong>Exemple illustratif</strong> :  <em>¬´ Supposons que vous ayez le domaine</em> <em>dandreyd.com__. Vous pouvez cr√©er des sous-domaines :</em> <em>service1.dandreyd.com__,</em> <em>service2.dandreyd.com__, etc., qui pointent tous vers l‚ÄôIP publique (1.2.3.4) de votre serveur. Votre reverse proxy √©coute sur cette IP et, lorsqu‚Äôune connexion arrive sur</em> <em>service1.dandreyd.com__, il la route vers le service interne correspondant (par ex. 192.168.2.19) ¬ª</em>  . De cette fa√ßon,  <strong>un seul point d‚Äôentr√©e</strong>  (IP + port 443) peut desservir de multiples applications. Le DNS dynamique s‚Äôassure que  *.dandreyd.com  est toujours √† jour vers l‚ÄôIP du jour.</p>
<p>Avec Cloudflare DNS par exemple, on peut m√™me activer le  <strong>proxy Cloudflare (orange cloud)</strong>  sur certains sous-domaines, ce qui ajoute une couche de cache/WAF (utile pour un site web public) et masque l‚ÄôIP originelle. Cependant, pour des services personnels non web (Nextcloud priv√©, etc.), on utilise g√©n√©ralement le DNS de Cloudflare en mode DNS seulement (pas de proxy) pour √©viter des complexit√©s sur les flux non-HTTP.</p>
<p><strong>Certificats SSL</strong> : Dans un tel setup, on obtient des certificats multi-domaines (ou wildcard) pour couvrir tous les sous-domaines. Let‚Äôs Encrypt via un challenge DNS (facile si on a Cloudflare) ou via challenge HTTP (possible en exposant temporairement chaque service ou via le proxy) peut automatiser cela. Par exemple, l‚Äôadd-on DuckDNS de Home Assistant automatise la cr√©ation d‚Äôun certificat pour le nom DuckDNS + un acc√®s s√©curis√©.</p>
<p>En termes de s√©curit√©, ce sc√©nario profite du fait que  <strong>chaque service n‚Äôest pas expos√© sur un port distinct</strong>  (on n‚Äôouvre que 443, et √©ventuellement 80 pour les challenges, bien que avec le DNS challenge ce ne soit pas n√©cessaire). Le reverse proxy peut g√©rer l‚Äôauthentification, forcer HTTPS, et appliquer des r√®gles (rate limiting, firewall d‚Äôapp, int√©gration fail2ban, etc.). On conseille de  <strong>d√©sactiver l‚Äôacc√®s HTTP</strong>  (redirection vers HTTPS) et de n‚Äôautoriser que TLS moderne sur le proxy.</p>
<h3 id="3-considerations-de-securite-et-bonnes-pratiques"><strong>3. Consid√©rations de s√©curit√© et bonnes pratiques</strong><a class="headerlink" href="#3-considerations-de-securite-et-bonnes-pratiques" title="Permanent link">&para;</a></h3>
<p>Exposer son r√©seau domestique via un nom de domaine public n√©cessite quelques pr√©cautions :</p>
<ul>
<li>
<p><strong>Mises √† jour DNS s√©curis√©es</strong> : Toujours utiliser le  <strong>chiffrement</strong>  pour les requ√™tes de mise √† jour DDNS. La plupart des services imposent HTTPS, mais si ce n‚Äôest pas le cas, pr√©f√©rez un client qui le supporte ou un tunnel. Par exemple, ddclient en mode Cloudflare utilise HTTPS par d√©faut  . Ceci √©vite qu‚Äôun attaquant sur le m√™me r√©seau puisse intercepter votre token.</p>
</li>
<li>
<p><strong>Protection des identifiants</strong> : Les services comme Cloudflare utilisent des API tokens ‚Äì stockez-les en lieu s√ªr (fichier de config en permissions restreintes, etc.). De m√™me pour les logins/mots de passe No-IP ou autres. Ne les mettez pas en dur dans un script public.</p>
</li>
<li>
<p><strong>Ports expos√©s minimalement</strong> : N‚Äôexposez que le n√©cessaire. Par exemple, inutile d‚Äôouvrir Telnet ou SSH au monde entier. Privil√©giez un VPN pour l‚Äôadministration distante. Si un service n‚Äôa pas vocation √† √™tre acc√©d√© publiquement, ne le mappez pas sur le reverse proxy.</p>
</li>
<li>
<p><strong>Utilisez HTTPS</strong> : Gr√¢ce au DNS dynamique, vous avez un nom de domaine ‚Äì profitez-en pour d√©ployer du HTTPS via Let‚Äôs Encrypt ou un autre CA. De nombreux tutos existent pour coupler Let‚Äôs Encrypt avec DuckDNS (le DNS-01 challenge via DuckDNS est une possibilit√©, ou plus simplement le HTTP-01 si le service est accessible). Un navigateur ou une API appellera ainsi  https://monservice.maison:443  en toute confiance.</p>
</li>
<li>
<p><strong>Cloudflare en proxy</strong> : Si vous utilisez Cloudflare DNS, √©valuer l‚Äôoption proxy (mode ‚Äúorange‚Äù). Pour un blog personnel ou un petit site, cela peut apporter une couche de protection (Cloudflare filtre les attaques DDoS, offre un pare-feu applicatif de base). Par contre, pour acc√©der √† un service non-HTTP (SSH, MQTT‚Ä¶), le proxy Cloudflare ne convient pas, on restera en connexion directe (ou on utilisera Cloudflare Tunnel sp√©cifiquement pour certaines applications web).</p>
</li>
<li>
<p><strong>Mises √† jour et monitoring</strong> : Tenez √† jour vos services expos√©s (un Nextcloud obsol√®te ou une cam√©ra IP non patch√©e peuvent √™tre compromis). Surveillez les logs, et √©ventuellement utilisez des outils comme Fail2Ban pour bannir les IP en cas de brute-force. Le DNS dynamique ne rend pas l‚Äôattaque plus facile en soi, mais il rend votre service plus  <strong>visible sur Internet</strong>  via un nom de domaine. D‚Äôailleurs, attention, certains robots scannent les domaines *.duckdns.org ou  <em>.no-ip.</em>  connus ‚Äì vous pourriez voir du trafic malveillant g√©n√©rique. D‚Äôo√π l‚Äôimportance des pr√©cautions classiques.</p>
</li>
</ul>
<p>En r√©sum√©, un usage typique du DNS dynamique dans un cadre homelab implique une configuration combinant  <strong>DDNS + redirections NAT + (optionnellement) reverse proxy + certificats SSL</strong>. Cette combinaison permet de reproduire √† l‚Äô√©chelle domestique ce qu‚Äôun h√©bergeur professionnel ferait, tout en contournant la limitation d‚ÄôIP non fixe.</p>
<h2 id="serveurs-dns-locaux-unbound-dnsmasq-et-leur-role-en-reseau-domestique"><strong>Serveurs DNS locaux (Unbound, Dnsmasq) et leur r√¥le en r√©seau domestique</strong><a class="headerlink" href="#serveurs-dns-locaux-unbound-dnsmasq-et-leur-role-en-reseau-domestique" title="Permanent link">&para;</a></h2>
<p>Abordons maintenant la question des  <strong>DNS locaux</strong> : au sein de votre r√©seau local, vous pouvez d√©ployer un serveur DNS maison (par exemple avec  <strong>Unbound</strong>  ou  <strong>Dnsmasq</strong>). Quel est l‚Äôint√©r√™t, et comment cela s‚Äôarticule-t-il avec le DNS dynamique vu plus haut ?</p>
<h3 id="role-dun-dns-local-dans-une-architecture-domestique"><strong>R√¥le d‚Äôun DNS local dans une architecture domestique</strong><a class="headerlink" href="#role-dun-dns-local-dans-une-architecture-domestique" title="Permanent link">&para;</a></h3>
<p>Dans un r√©seau domestique typique, vos PC, smartphones et objets utilisent le DNS de l‚Äôop√©rateur ou un DNS public (Google, Cloudflare‚Ä¶) pour r√©soudre les noms de domaine externes. Installer un serveur DNS local (sur le routeur ou un Raspberry Pi) peut apporter plusieurs b√©n√©fices :</p>
<ul>
<li>
<p><strong>Cache DNS partag√©</strong> : Le serveur DNS local sert de  <strong>cache</strong>  pour toutes les requ√™tes des appareils. Les r√©solutions r√©p√©t√©es (par ex.  www.google.com) seront acc√©l√©r√©es car la r√©ponse sera servie localement sans requ√™ter √† chaque fois un DNS externe. Cela  <strong>am√©liore la latence</strong>  per√ßue et r√©duit un peu la consommation de bande passante  .</p>
</li>
<li>
<p><strong>R√©solution des noms locaux</strong> : Un DNS local peut conna√Ætre les noms de vos machines internes (par exemple  <em>monpc.lan</em>  qui pointe vers 192.168.1.10). Sans DNS local, on se rabat sur des solutions comme mDNS (.local) ou WINS, pas toujours fiables ou universelles. Avec Dnsmasq ou Unbound configur√©, on peut automatiquement enregistrer les baux DHCP dans le DNS : ainsi, toute machine du LAN peut pinguer  monpc.lan  et √ßa r√©sout. Unbound sur OPNsense/pfSense, par exemple, a une option  <em>Register DHCP leases</em>  qui ajoute les machines DHCP au DNS  . Cela  <strong>simplifie grandement l‚Äôadministration</strong> : plus besoin d‚Äô√©diter les fichiers hosts de chaque PC.</p>
</li>
<li>
<p><strong>Override / Split-horizon DNS</strong> : On peut d√©finir des entr√©es DNS sp√©cifiques pour certains noms. Tr√®s utile dans le cas du  <strong>DNS dynamique</strong>  justement. Supposons que depuis l‚Äôext√©rieur on acc√®de √†  <em>monnas.duckdns.org</em>  (r√©solu vers l‚ÄôIP publique). Depuis l‚Äôint√©rieur du LAN, si on utilise ce m√™me nom, on va sortir vers Internet pour revenir vers la box (hairpin NAT). Cela peut √™tre inefficace, voire bloqu√© par certains routeurs. Avec un DNS local, on peut configurer une r√®gle override disant :  <em>‚Äúmonnas.duckdns.org = 192.168.1.50‚Äù</em>  (IP locale du NAS). Ainsi les clients internes acc√®dent directement, sans passer par la boucle externe. Unbound et Dnsmasq permettent ces  <strong>overrides locaux</strong>  facilement (sur OPNsense GUI, via ‚ÄúHost Overrides‚Äù ou ‚ÄúDomain Overrides‚Äù)  . On parle de DNS ¬´ split-horizon ¬ª lorsque l‚Äôinterne et l‚Äôexterne renvoient des IP diff√©rentes pour un m√™me nom, optimisant l‚Äôacc√®s selon la provenance.</p>
</li>
<li>
<p><strong>Filtrage et s√©curit√©</strong> : Un DNS local peut incorporer des  <strong>listes de blocage</strong>  (pour bloquer des domaines publicitaires, malveillants, etc.). Par exemple, Pi-hole (tr√®s populaire sur Raspberry Pi) utilise en interne Dnsmasq (ou son fork FTL) pour filtrer des domaines. Unbound peut aussi faire du filtrage via des zones nulles. Cela procure un  <strong>bloqueur de pub/malware r√©seau</strong>  centralis√©. De plus, un serveur DNS local bien configur√© peut activer  <strong>DNSSEC</strong>  pour v√©rifier l‚Äôauthenticit√© des r√©ponses DNS externes, et m√™me chiffrer les requ√™tes sortantes via  <strong>DNS over TLS (DoT)</strong>si on le configure en forwarder TLS. Unbound supporte nativement DNSSEC et DoT  , ce qui permet d‚Äô√©viter les attaques de cache poisoning et d‚Äôam√©liorer la confidentialit√© des requ√™tes (en emp√™chant un espion local ou FAI de voir toutes les requ√™tes en clair).</p>
</li>
<li>
<p><strong>Haute disponibilit√© locale</strong> : Si votre acc√®s Internet tombe, un DNS local garde en cache un certain nombre de domaines r√©cemment r√©solus, permettant aux machines de continuer √† se r√©soudre localement et parfois d‚Äôacc√©der √† des ressources en cache (si par exemple un serveur local sert du contenu, etc.). Bon, √ßa reste un cas limit√©, mais disons que l‚Äôinfrastructure locale ne d√©pend plus enti√®rement des DNS ext√©rieurs.</p>
</li>
</ul>
<h3 id="unbound-vs-dnsmasq-differences-et-complementarite"><strong>Unbound vs. Dnsmasq : diff√©rences et compl√©mentarit√©</strong><a class="headerlink" href="#unbound-vs-dnsmasq-differences-et-complementarite" title="Permanent link">&para;</a></h3>
<p><strong>Dnsmasq</strong>  et  <strong>Unbound</strong>  sont deux solutions courantes pour le DNS local, souvent utilis√©es dans les firmwares routeurs et homelabs. Leurs r√¥les se recoupent partiellement, mais ils ont des philosophies diff√©rentes  :</p>
<ul>
<li>
<p><strong>Dnsmasq</strong>  est un  <strong>DNS forwarder/cache l√©ger</strong>  qui fait aussi serveur DHCP. Il ne r√©sout pas les requ√™tes r√©cursives lui-m√™me : il  <strong>transmet les requ√™tes √† un ou plusieurs DNS upstream</strong>  (par exemple les DNS de l‚Äôop√©rateur ou de Cloudflare)  . Il se veut tr√®s l√©ger en m√©moire et con√ßu pour les routeurs/embarqu√©s. Il excelle √† distribuer les baux DHCP et √† enregistrer automatiquement ces h√¥tes en DNS. En revanche, il ne valide pas DNSSEC tout seul, et ne chiffre pas les requ√™tes (il peut n√©anmoins √™tre point√© vers un r√©solveur tiers qui fait DNSSEC). Son empreinte est minimale, ce qui le rend id√©al pour de petits environnements ou √©quipements modestes.</p>
</li>
<li>
<p><strong>Unbound</strong>  est un  <strong>r√©solveur DNS r√©cursif complet</strong>  (comme BIND dans sa fonction r√©cursive) qui peut interroger directement les serveurs racine, domaines de premier niveau, etc. Il  <strong>n‚Äôa pas besoin de serveur DNS upstream</strong>(sauf si on le configure en mode forwarder). Unbound fait de la  <strong>validation DNSSEC</strong>  en local et supporte les protocoles modernes (DNS over TLS, DNS64 pour IPv6, etc.)  . Il maintient un cache efficace et robuste. Depuis quelques ann√©es, il a √©t√© adopt√© par d√©faut sur OPNsense/pfSense car jug√© plus s√©curis√© et respectueux de la vie priv√©e (plus besoin de faire confiance √† un DNS tiers)  . Unbound ne fait pas DHCP, mais il peut parfaitement r√©cup√©rer les infos du serveur DHCP du syst√®me (voir plus haut) pour la r√©solution locale.</p>
</li>
</ul>
<p>En termes de  <strong>performances</strong> : un r√©solveur complet comme Unbound peut √™tre tr√®s rapide apr√®s le premier remplissage de cache, et √©vite des d√©pendances. Cependant, la premi√®re requ√™te √† un domaine peut √™tre un peu plus longue (le temps de contacter les racines et autorit√©s). Sur un r√©seau domestique, la diff√©rence est n√©gligeable, d‚Äôautant qu‚ÄôUnbound optimise et pipeline les requ√™tes. Dnsmasq, lui, d√©pend totalement de la latence vers le DNS amont (par ex. 20ms vers 1.1.1.1). Donc apr√®s cache, ils se valent, mais Unbound offre plus de contr√¥le et potentiellement une r√©solution plus directe  .</p>
<p><strong>S√©curit√© et fiabilit√©</strong> : Comme mentionn√©, Dnsmasq fait confiance aux r√©ponses de l‚Äôupstream ‚Äì si votre FAI vous redirige certaines requ√™tes (portails captifs, censures, etc.), Dnsmasq s‚Äôy pliera. Unbound, en r√©solvant lui-m√™me et en validant DNSSEC, garantit d‚Äôavoir les  <strong>donn√©es officielles de la zone DNS</strong>  . Il peut d√©tecter une alt√©ration (via DNSSEC) ou √©viter certaines censures (sauf si l‚Äôacc√®s √† certains serveurs DNS est bloqu√©, auquel cas on peut configurer Unbound pour passer par un tunnel ou DoT).</p>
<p><strong>Utilisation conjointe</strong> : Il est possible d‚Äôutiliser  <strong>les deux de concert</strong>. Par exemple, Pi-hole v5 combine Dnsmasq (FTL) pour le filtrage + Unbound en arri√®re-plan comme r√©solveur, configur√© de sorte que Dnsmasq forward tout √† Unbound localement. Cependant, dans la plupart des d√©ploiements routeur, on choisit l‚Äôun ou l‚Äôautre. pfSense/OPNsense proposent soit Unbound (DNS Resolver) soit Dnsmasq (DNS Forwarder) ‚Äì mais pas les deux en m√™me temps pour le m√™me port. √âtant donn√© les avantages,  <strong>Unbound est g√©n√©ralement recommand√© par d√©faut</strong>  pour les r√©seaux modernes, sauf cas d‚Äôusage sp√©cifique  . Dnsmasq reste utile si on a tr√®s peu de ressources ou si on veut une config ultra-simple.</p>
<p>En r√©sum√©  :</p>
<blockquote>
<p><em>Unbound</em> : r√©solveur r√©cursif complet, rapide (direct, cache efficace), supporte DNSSEC/DoT, gestion avanc√©e des overrides et blocages, id√©al pour s√©curit√© et performance.</p>
<p><em>Dnsmasq</em> : forwarder DNS + DHCP, tr√®s l√©ger, configuration simple, convient aux petits √©quipements ou si on veut simplement relayer vers un DNS public.</p>
</blockquote>
<h3 id="mise-en-place-dans-un-reseau-domestique"><strong>Mise en place dans un r√©seau domestique</strong><a class="headerlink" href="#mise-en-place-dans-un-reseau-domestique" title="Permanent link">&para;</a></h3>
<p>Dans la pratique, de nombreuses  <strong>distributions routeur</strong>  embarquent d√©j√† ces services. Par exemple :</p>
<ul>
<li>
<p><strong>OPNsense/pfSense</strong> : utilisent Unbound par d√©faut comme DNS Resolver local (avec possibilit√© de switcher vers Dnsmasq si d√©sir√©). L‚Äôinterface permet de d√©finir des  <em>Host Overrides</em>  pour les noms locaux, activer l‚Äôenregistrement des baux DHCP  , etc. Si vous utilisez l‚Äôun de ces firewalls, vos clients DHCP re√ßoivent l‚Äôadresse du firewall comme DNS, profitant ainsi du cache local et des r√©solutions internes. Ces syst√®mes facilitent aussi la configuration de DNS over TLS (ex: forwarder vers Cloudflare chiffr√©) ou l‚Äôajout de listes de blocage via des plugins.</p>
</li>
<li>
<p><strong>Routeurs grand public/firmware open-source</strong> : Un routeur sous  <strong>OpenWrt</strong>  utilise Dnsmasq par d√©faut pour DNS+DHCP. L√† aussi, les machines du LAN utilisent le routeur comme DNS. On peut configurer des noms locaux via /etc/hosts ou le DHCP statique. OpenWrt permet aussi d‚Äôajouter Unbound en compl√©ment pour avoir DNSSEC (via le package  <em>unbound-host</em>). D‚Äôautres firmware comme ASUSWRT int√®grent souvent une option DNSSEC ou DoT en forwarder, parfois en gardant dnsmasq pour le cache.</p>
</li>
<li>
<p><strong>Raspberry Pi / Pi-hole</strong> : Installer Pi-hole donne un DNS local filtrant (bas√© sur Dnsmasq). Il suffit de pointer les DNS des postes vers l‚ÄôIP du Pi-hole (ou configurer le DHCP pour qu‚Äôil annonce le Pi comme DNS). Ajoutez Unbound sur le Pi et vous avez un r√©solveur local complet sans d√©pendance externe, am√©liorant la confidentialit√© (c‚Äôest une configuration tr√®s pris√©e des bidouilleurs pour bloquer pubs et trackers sur tout le r√©seau).</p>
</li>
<li>
<p><strong>NAS Synology/QNAP</strong> : Certains NAS offrent un package ‚ÄúDNS Server‚Äù (ex: Synology DNS Server) qui est souvent bas√© sur BIND ou dnsmasq, permettant de cr√©er votre zone locale maison (par ex.  <em>maison.lan</em>  avec vos enregistrements) et de faire forward des requ√™tes externes. C‚Äôest une option pour centraliser le DNS si le routeur ne le fait pas bien.</p>
</li>
</ul>
<p>Il est important de veiller √†  <strong>√©viter les conflits</strong> : ne pas avoir deux serveurs DNS sur le r√©seau pr√©tendant g√©rer la m√™me chose pour les clients. G√©n√©ralement on en choisit un comme primaire (souvent le routeur). On peut en avoir un second en secours (par ex. un Pi-hole en secondaire), auquel cas il faut bien configurer pour qu‚Äôils aient des vues coh√©rentes (surtout pour les noms locaux).</p>
<p>Enfin,  <strong>DNS local et DNS dynamique</strong>  peuvent se compl√©ter : On a vu l‚Äôexemple du split-horizon pour le nom dynamique. On pourrait par exemple automatiser l‚Äôajout dans Unbound de l‚Äôenregistrement correspondant au DDNS. Sur pfSense, ceci peut √™tre fait via un script ou en utilisant l‚Äôoption RFC 2136 (mise √† jour DNS vers un serveur DNS interne). Cependant, le plus simple est souvent de configurer manuellement un override statique si l‚ÄôIP locale est fixe. Autre int√©gration : si votre DNS local est configur√© pour forwarder vers un DNS public, vous pouvez param√©trer un forward conditionnel pour votre domaine dynamique vers un serveur sp√©cifique. Mais cela devient complexe inutilement pour un usage maison. Dans la plupart des cas, une entr√©e statique locale suffira pour que  <em>monserveur.domaine.com</em>  r√©solve diff√©remment en LAN et en WAN.</p>
<h2 id="guide-de-configuration-clients-ddns-et-integration-routeur"><strong>Guide de configuration : clients DDNS et int√©gration routeur</strong><a class="headerlink" href="#guide-de-configuration-clients-ddns-et-integration-routeur" title="Permanent link">&para;</a></h2>
<p>Pour terminer, voici quelques conseils et options pour  <strong>mettre en ≈ìuvre concr√®tement le DNS dynamique</strong>  et les DNS locaux dans votre r√©seau.</p>
<h3 id="clients-et-scripts-pour-le-dns-dynamique"><strong>Clients et scripts pour le DNS dynamique</strong><a class="headerlink" href="#clients-et-scripts-pour-le-dns-dynamique" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p><strong>Via le routeur/Firewall</strong> : Si vous poss√©dez un routeur type  <strong>pfSense, OPNsense, OpenWrt</strong>, utilisez sa fonctionnalit√© DDNS int√©gr√©e. Sur pfSense, rendez-vous dans  <em>Services &gt; Dynamic DNS</em>  et ajoutez une entr√©e en choisissant votre fournisseur (Cloudflare, DuckDNS, No-IP, etc. sont propos√©s). Entrez les identifiants requis (par ex. pour Cloudflare,  <em>Email</em>  +  <em>Global API Key</em>  ou  <em>Token</em>  selon versions). Le routeur se chargera de d√©tecter les changements d‚ÄôIP (via l‚Äôinterface WAN ou un service web) et de mettre √† jour le DNS  . Sur OPNsense, apr√®s avoir install√© le plugin os-ddclient, la configuration est similaire : vous pouvez d√©finir l‚Äôintervalle de v√©rification (par ex. toutes les 5 minutes) et le service (Cloudflare, DuckDNS‚Ä¶). Par exemple, pour DuckDNS, vous s√©lectionnez  <em>DuckDNS</em>, en  <em>Hostname</em>  mettez  monhote.duckdns.org, et en mot de passe le token fourni par DuckDNS (le champ  <em>Username</em>  pouvant rester vide si non requis). Le routeur √©tant toujours allum√© et conscient de son IP WAN, c‚Äôest souvent la solution la plus robuste.</p>
</li>
<li>
<p><strong>Via un NAS ou serveur Linux</strong> : Si vous avez une machine toujours allum√©e, installer un client comme  <strong>ddclient</strong>  est recommand√©. ddclient est un d√©mon Perl tr√®s flexible qui supporte la plupart des fournisseurs (No-IP, Cloudflare, DuckDNS, Dyn, etc.)  . On le configure via  /etc/ddclient.conf. Par exemple, pour Cloudflare : pr√©ciser le protocol=cloudflare, le token API en password, le nom de zone et le record √† mettre √† jour  . Une fois configur√©, ddclient tourne en t√¢che de fond et fait les updates. Sur Docker, on peut utiliser l‚Äôimage  <em>linuxserver/ddclient</em>  qui simplifie le d√©ploiement  . Pour DuckDNS, un script shell simple lanc√© par cron fait tr√®s bien l‚Äôaffaire (appel wget/curl de l‚ÄôURL duckdns toutes les 5 minutes).</p>
</li>
<li>
<p><strong>Clients propri√©taires</strong> : No-IP propose son utilitaire  <em>No-IP DUC</em>. Il suffit de l‚Äôex√©cuter et de fournir ses identifiants No-IP ‚Äì il va tourner en background. D‚Äôautres services ont des clients d√©di√©s (Dyn avait  <em>inadyn</em>, etc.). √Ä noter : inadyn existe toujours en open-source et peut servir de client universel, mais ddclient est plus r√©pandu d√©sormais.</p>
</li>
<li>
<p><strong>Automatisation logicielle</strong> : Certains logiciels embarquent des fonctions DDNS. Par exemple,  <strong>Home Assistant</strong>  a un add-on DuckDNS qui non seulement met √† jour l‚ÄôIP mais configure aussi le certificat Let‚Äôs Encrypt ‚Äì pratique pour un acc√®s √† l‚Äôinterface HA depuis l‚Äôext√©rieur.  <strong>Ubiquiti Unifi</strong>  routeurs/UDM ont une section DDNS (ils supportent No-IP, DuckDNS, DynDNS, etc.). M√™me Windows Server a un client DynDNS int√©gr√© si besoin. Pensez √† v√©rifier si l‚Äôun de vos √©quipements actuels ne pourrait pas faire le job avant d‚Äôajouter un √©ni√®me script.</p>
</li>
</ul>
<h3 id="exemples-de-configuration-rapides"><strong>Exemples de configuration rapides</strong><a class="headerlink" href="#exemples-de-configuration-rapides" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>DuckDNS + script shell (Linux)</strong> : cr√©ez un script  /usr/local/bin/duckdns.sh  contenant par ex.:</li>
</ul>
<p><div class="highlight"><pre><span></span><code><span class="nv">TOKEN</span><span class="o">=</span><span class="s2">&quot;Votre-Token-DuckDNS&quot;</span>
<span class="nv">DOMAINS</span><span class="o">=</span><span class="s2">&quot;monhote&quot;</span>
<span class="nv">IP</span><span class="o">=</span><span class="k">$(</span>curl<span class="w"> </span>-s<span class="w"> </span>https://api.ipify.org<span class="k">)</span><span class="w">  </span>
curl<span class="w"> </span><span class="s2">&quot;https://www.duckdns.org/update?domains=</span><span class="nv">$DOMAINS</span><span class="s2">&amp;token=</span><span class="nv">$TOKEN</span><span class="s2">&amp;ip=</span><span class="nv">$IP</span><span class="s2">&quot;</span>
</code></pre></div>
-   Ajoutez une t√¢che cron (*/5 * * * * /usr/local/bin/duckdns.sh &gt;/dev/null 2&gt;&amp;1). Ceci va mettre √† jour toutes les 5 min. (DuckDNS renvoie ‚ÄúOK‚Äù ou ‚ÄúKO‚Äù selon succ√®s).</p>
<ul>
<li><strong>Cloudflare + curl</strong> : une commande curl pour mettre √† jour Cloudflare (via API v4) ressemble √† :</li>
</ul>
<div class="highlight"><pre><span></span><code>curl<span class="w"> </span>-X<span class="w"> </span>PUT<span class="w"> </span><span class="s2">&quot;https://api.cloudflare.com/client/v4/zones/&lt;ZONE_ID&gt;/dns_records/&lt;RECORD_ID&gt;&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">     </span>-H<span class="w"> </span><span class="s2">&quot;Authorization: Bearer &lt;API_TOKEN&gt;&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">     </span>-H<span class="w"> </span><span class="s2">&quot;Content-Type: application/json&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">     </span>--data<span class="w"> </span><span class="s1">&#39;{&quot;type&quot;:&quot;A&quot;,&quot;name&quot;:&quot;sub.mondomaine.com&quot;,&quot;content&quot;:&quot;&lt;new_ip&gt;&quot;,&quot;ttl&quot;:120}&#39;</span>
</code></pre></div>
<ul>
<li>
<p>O√π  <ZONE_ID>  et  <RECORD_ID>  sont des identifiants que vous obtenez via l‚ÄôAPI ou l‚Äôinterface (une fois pour config). C‚Äôest un peu lourd √† trouver manuellement, d‚Äôo√π l‚Äôint√©r√™t d‚Äôoutils comme ddclient qui le font automatiquement √† partir du nom de domaine.</p>
</li>
<li>
<p><strong>OPNsense + Cloudflare (exemple)</strong> : Installer le plugin os-ddclient. Dans  <em>Services &gt; Dynamic DNS</em>, ajouter une entr√©e : Service = Cloudflare. Remplir  <em>Zone</em>  =  mondomaine.com  (domaine g√©r√©),  <em>Hostname(s)</em>  = le(s) sous-domaine(s) √† mettre √† jour (ex:  maison,minecraft  pour  maison.mondomaine.com  et  minecraft.mondomaine.com),  <em>Username</em>  =  token,  <em>Password</em>  = le token API Cloudflare. Choisir  <em>Check IP Method</em>  = ‚ÄúInterface‚Äù (ou un service web) et l‚Äôinterface WAN. Sauvegarder, activer. Le log permettra de v√©rifier la bonne mise √† jour  .</p>
</li>
<li>
<p><strong>pfSense + DuckDNS (exemple)</strong> : Dans  <em>Services &gt; Dynamic DNS</em>, ajouter : Service = Custom (car pfSense peut ne pas avoir DuckDNS nativement selon version). Fournir l‚ÄôURL de mise √† jour DuckDNS contenant  %IP%  et les param√®tres. Heureusement, des tutoriels existent et pfSense 2.5+ int√®gre DuckDNS dans la liste d√©roulante (ce qui simplifie : on entre juste le domaine et le token en guise de mot de passe). On valide et on observe le statut.</p>
</li>
</ul>
<h3 id="mise-en-place-dun-dns-local"><strong>Mise en place d‚Äôun DNS local</strong><a class="headerlink" href="#mise-en-place-dun-dns-local" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p><strong>OPNsense/pfSense</strong> : Le DNS Resolver (Unbound) est probablement d√©j√† actif. V√©rifiez dans  <em>Services &gt; Unbound DNS &gt; General</em>  que  <em>Enable</em>  est coch√©. Activez  <em>DHCP Registration</em>  si vous voulez que les clients DHCP soient r√©solus  . Vous pouvez aussi d√©finir un  <em>Domain Override</em>  si, par exemple, vous avez un domaine local sp√©cifique ou si vous voulez que les requ√™tes vers  .local  ou autre aillent vers un autre serveur. Dans  <em>Access Lists</em>, assurez-vous que le r√©seau LAN est autoris√© (par d√©faut oui). R√©sultat : toutes les machines qui utilisent l‚ÄôIP du routeur comme DNS profiteront du cache et des noms locaux.</p>
<p>Pour tester, faites un  nslookup monpc.lan 192.168.1.1  (si 192.168.1.1 est pfSense) ‚Äì cela doit renvoyer l‚ÄôIP de monpc si ce dernier a communiqu√© son nom via DHCP.</p>
</li>
<li>
<p><strong>Configurer DNSSEC/DoT</strong> : Sur Unbound (OPNsense), DNSSEC est activ√© d‚Äôun clic  . Pour DNS over TLS, soit on utilise Unbound en mode resolver pur (pas besoin, il interroge les racines en clair mais on a DNSSEC), soit en mode forwarder chiffr√© : dans  <em>Query Forwarding</em>, on peut activer Forwarding et sp√©cifier des serveurs TLS comme 1.1.1.1@853 avec validation. Cela chiffre les requ√™tes vers l‚Äôext√©rieur, au prix de repasser par un resolver tiers. C‚Äôest un choix. Pour Dnsmasq, on ne peut pas faire DoT nativement, il faudrait passer par un stub comme  stubby  ou utiliser le DNS over HTTPS du routeur (certains firmwares ASUS le font).</p>
</li>
<li>
<p><strong>Int√©gration Pi-hole + Unbound</strong> : Installer Pi-hole (qui remplace votre DNS du routeur aupr√®s des clients) puis suivre la doc pour ajouter Unbound. En gros, Unbound √©coute sur 127.0.0.1:5335 et Pi-hole forwarde tout vers lui. On obtient un DNS local, filtrant et totalement r√©cursif. C‚Äôest excellent pour la vie priv√©e et le confort (plus de pubs, etc.).</p>
</li>
<li>
<p><strong>Acc√®s aux services locaux par nom</strong> : Si vous n‚Äôavez pas de DNS local mais que vous le souhaitez sans trop d‚Äôeffort, vous pouvez par exemple  <strong>utiliser Dnsmasq sur votre PC</strong>  (utile si vous voulez juste quelques noms sans configurer tout le r√©seau). Mais le mieux reste de faire g√©rer cela par le routeur ou un petit serveur central comme d√©crit ci-dessus.</p>
</li>
</ul>
<p>En conclusion, un  <strong>serveur DNS local</strong>  bien configur√© compl√®te id√©alement l‚Äôutilisation d‚Äôun  <strong>DNS dynamique</strong>. Le DDNS vous donne une porte d‚Äôentr√©e fixe depuis Internet, tandis que le DNS local vous offre un contr√¥le et un confort √† l‚Äôint√©rieur du r√©seau. En combinant les deux, vous pouvez par exemple taper  <em>cloud.maison.local</em>  depuis chez vous et  <em>cloud.mondynamique.net</em>  depuis l‚Äôext√©rieur, et atterrir sur le m√™me service, de mani√®re optimale dans chaque contexte.</p>
<h2 id="conclusion"><strong>Conclusion</strong><a class="headerlink" href="#conclusion" title="Permanent link">&para;</a></h2>
<p>Le DNS dynamique est une brique essentielle pour toute personne h√©bergeant des services sur une connexion √† IP variable. Des services comme Cloudflare, DuckDNS ou No-IP offrent des solutions vari√©es ‚Äì du  <strong>DIY sur son propre domaine avec API</strong>  √† la  <strong>solution pr√™te √† l‚Äôemploi totalement gratuite</strong>  ‚Äì chacun ayant ses avantages. Il est important de choisir en fonction de ses besoins : Cloudflare conviendra √† ceux qui ont un domaine et veulent une int√©gration pouss√©e (par exemple coupler avec un CDN ou d‚Äôautres r√®gles DNS), DuckDNS s√©duira par sa simplicit√© sans tracas, No-IP par son int√©gration universelle, etc. Les alternatives non-propri√©taires comme deSEC, FreeDNS, YDNS montrent qu‚Äôil existe un √©cosyst√®me ouvert pour le DDNS, ce qui est rassurant en termes de p√©rennit√©.</p>
<p>En parall√®le, soigner son  <strong>infrastructure DNS locale</strong>  apporte une meilleure exp√©rience utilisateur et plus de ma√Ætrise du r√©seau. Un  <strong>DNS resolver local (Unbound)</strong>  apportera s√©curit√© (DNSSEC, pas de tracking FAI) et ind√©pendance, l√† o√π un  <strong>DNS forwarder (Dnsmasq)</strong>  apportera flexibilit√© et l√©g√®ret√©. Souvent, les deux ne sont pas en opposition stricte mais r√©pondent √† des usages l√©g√®rement diff√©rents ‚Äì √† vous de voir ce qui s‚Äôint√®gre le mieux dans votre architecture.</p>
<p>Enfin, n‚Äôoublions pas que ces outils ne sont efficaces qu‚Äôaccompagn√©s des bonnes pratiques de r√©seau : tenir ses services √† jour, utiliser le chiffrement, segmenter les acc√®s si n√©cessaire (un service critique n‚Äôa peut-√™tre pas besoin d‚Äô√™tre joignable par tout le monde), et surveiller son syst√®me. Avec un DDNS bien configur√©, un reverse proxy, et un DNS local, votre homelab se comportera presque comme une infra professionnelle ‚Äì en miniature ‚Äì et vous donnera le contr√¥le total sur vos services,  <strong>√† la maison comme √† distance</strong>.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.sections", "navigation.expand", "toc.integrate", "content.code.annotate", "search.highlight", "search.suggest"], "search": "../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copi\u00e9 dans le presse-papier", "clipboard.copy": "Copier dans le presse-papier", "search.result.more.one": "1 de plus sur cette page", "search.result.more.other": "# de plus sur cette page", "search.result.none": "Aucun document trouv\u00e9", "search.result.one": "1 document trouv\u00e9", "search.result.other": "# documents trouv\u00e9s", "search.result.placeholder": "Taper pour d\u00e9marrer la recherche", "search.result.term.missing": "Non trouv\u00e9", "select.version": "S\u00e9lectionner la version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.56ea9cef.min.js"></script>
      
    
  </body>
</html>