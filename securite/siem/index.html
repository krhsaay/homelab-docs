
<!doctype html>
<html lang="fr" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Documentation pour construire un homelab s√©curis√© et complet">
      
      
        <meta name="author" content="krhsaay">
      
      
      
        <link rel="prev" href="../authentification/">
      
      
        <link rel="next" href="../segmentation/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.15">
    
    
      
        <title>SIEM (Wazuh, ELK...) - Homelabs Doc</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.342714a4.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#comparaison-wazuh-elk-stack-et-graylog-pour-un-homelab-blue-team" class="md-skip">
          Aller au contenu
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="En-t√™te">
    <a href="../.." title="Homelabs Doc" class="md-header__button md-logo" aria-label="Homelabs Doc" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Homelabs Doc
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              SIEM (Wazuh, ELK...)
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Rechercher" placeholder="Rechercher" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Recherche">
        
        <button type="reset" class="md-search__icon md-icon" title="Effacer" aria-label="Effacer" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initialisation de la recherche
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



  

<nav class="md-nav md-nav--primary md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Homelabs Doc" class="md-nav__button md-logo" aria-label="Homelabs Doc" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Homelabs Doc
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Accueil
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    üèó Infrastructure
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            üèó Infrastructure
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../infrastructure/proxmox/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Proxmox VE
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../infrastructure/stockage/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Stockage
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../infrastructure/reseau/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    R√©seau & VLANs
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../infrastructure/lxc-vs-vm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    LXC vs VM
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    üåê R√©seau
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            üåê R√©seau
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reseau/dashboard/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Dashboards
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reseau/dns/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    DNS (Pi-hole, AdGuard...)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reseau/vpn-remote-access/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Acc√®s VPN distant
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reseau/reverse-proxy/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Reverse Proxy
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reseau/ddns/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    DNS Dynamique (DDNS)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reseau/torrent-vpn/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    VPN et torrents
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    üß∞ Outils
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            üß∞ Outils
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../outils/gestion-fichiers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Gestion de fichiers
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../outils/gestion-mots-de-passe/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Mots de passe (Vaultwarden...)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../outils/favoris/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Favoris et veille (Hoarder)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../outils/docker/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Docker & Portainer
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    üì∫ M√©dia
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            üì∫ M√©dia
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../media/streaming/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Streaming (Jellyfin, Plex)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../media/overseerr-sonarr/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Sonarr, Overseerr
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../media/clients-download.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    T√©l√©chargements (qBittorrent)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../media/photos/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Photos (Immich)
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    üè† Domotique
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            üè† Domotique
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../domotique/homeassistant/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home Assistant
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../domotique/zigbee/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Zigbee2MQTT
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../domotique/surveillance/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Vid√©osurveillance (Frigate)
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    üìä Monitoring
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            üìä Monitoring
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../monitoring/grafana/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Grafana
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../monitoring/prometheus-influx/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Prometheus / InfluxDB
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../monitoring/netalert/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    NetAlertX
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" checked>
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    üîê S√©curit√©
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            üîê S√©curit√©
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../vaultwarden/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Vaultwarden
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../authentification/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Authentification MFA
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    SIEM (Wazuh, ELK...)
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    SIEM (Wazuh, ELK...)
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table des mati√®res">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table des mati√®res
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#architecture-generale" class="md-nav__link">
    <span class="md-ellipsis">
      Architecture g√©n√©rale
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#collecte-de-logs-et-agents" class="md-nav__link">
    <span class="md-ellipsis">
      Collecte de logs et agents
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#detection-analyse-et-tableaux-de-bord" class="md-nav__link">
    <span class="md-ellipsis">
      D√©tection, analyse et tableaux de bord
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cas-dusage-typiques-en-homelab" class="md-nav__link">
    <span class="md-ellipsis">
      Cas d‚Äôusage typiques en homelab
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installation-dockerlxc-et-architecture-type" class="md-nav__link">
    <span class="md-ellipsis">
      Installation Docker/LXC et architecture type
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#performances-et-ressources" class="md-nav__link">
    <span class="md-ellipsis">
      Performances et ressources
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#recommandations-par-profil-dusage" class="md-nav__link">
    <span class="md-ellipsis">
      Recommandations par profil d‚Äôusage
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../segmentation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Segmentation & honeypots
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_9" >
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    üß™ DIY
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            üß™ DIY
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../diy/esp32/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ESP32 & capteurs
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../diy/octoprint.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    OctoPrint & impression 3D
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../diy/n8n.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    N8N Automatisation
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="comparaison-wazuh-elk-stack-et-graylog-pour-un-homelab-blue-team"><strong>Comparaison Wazuh, ELK Stack et Graylog pour un homelab Blue Team</strong><a class="headerlink" href="#comparaison-wazuh-elk-stack-et-graylog-pour-un-homelab-blue-team" title="Permanent link">&para;</a></h1>
<p><strong>Wazuh, ELK et Graylog</strong>  sont trois solutions open source de gestion de logs et de SIEM souvent utilis√©es par des Blue Teams. Elles couvrent la collecte centralis√©e de logs (Linux, Windows, r√©seau), l‚Äôanalyse en temps r√©el, la d√©tection d‚Äôintrusion et les alertes. Chacune a une architecture et des forces propres : Wazuh est une plateforme HIDS (sur base d‚ÄôOSSEC) avec agents et d√©tection int√©gr√©e,  <strong>ELK Stack</strong>  (Elasticsearch, Logstash, Kibana) est un √©cosyst√®me de recherche et de visualisation massif, et Graylog est un syst√®me de log management avec interface unifi√©e. Nous d√©taillons ci-dessous leur architecture, fonctionnalit√©s, cas d‚Äôusage, besoins en ressources et recommandations.</p>
<h2 id="architecture-generale"><strong>Architecture g√©n√©rale</strong><a class="headerlink" href="#architecture-generale" title="Permanent link">&para;</a></h2>
<p><em>Architecture typique de Wazuh (agents l√©gers sur chaque h√¥te, serveur central et indexeurs Elasticsearch/OpenSearch) (source : documentation Wazuh).</em>  Wazuh est bas√© sur des  <strong>agents install√©s sur chaque endpoint</strong>  (Windows, Linux, Mac) qui collectent les logs syst√®me, fichiers modifi√©s, √©v√©nements de s√©curit√©, etc., et les envoient au serveur Wazuh central  . Le serveur Wazuh re√ßoit ces donn√©es, les d√©code et les analyse avec son moteur de r√®gles IDS/IPS int√©gr√©, g√©n√©rant des alertes en cas d‚Äô√©v√©nements suspects. Wazuh g√®re ensuite l‚Äôacheminement de ces √©v√©nements vers un cluster  <strong>Elasticsearch/OpenSearch</strong>  (appel√© ¬´ indexer ¬ª) via Filebeat et TLS  . La solution comprend aussi une interface web (Wazuh Dashboard) pour configurer et visualiser l‚Äô√©tat du serveur et des agents. En version minimale, un seul serveur Wazuh et un n≈ìud indexeur peuvent suffire, mais pour de plus grands volumes ou haute-disponibilit√© on s√©pare Wazuh serveur et indexeurs sur des machines distinctes  .</p>
<p>En revanche,  <strong>Graylog</strong>  ne repose pas sur ses propres agents. Un d√©ploiement de base (Core Deployment) comprend un ou deux serveurs (¬´ Graylog server ¬ª) qui int√®grent toutes les fonctions (serveur Graylog, n≈ìud d‚Äôindexation Elasticsearch/OpenSearch, et base MongoDB pour les m√©tadonn√©es)  . Ce sch√©ma ¬´ tout-en-un ¬ª est simple √† installer pour un lab mais peu √©volutif. Graylog re√ßoit des logs via des  <em>inputs</em>  configurables : syslog (TCP/UDP), GELF (protocole maison), Beats, JDBC, etc. Les donn√©es sont rout√©es en temps r√©el vers le n≈ìud d‚Äôindexation (Elasticsearch/OpenSearch) via des  <em>streams</em>  et pipelines de traitement. Pour monter en charge (volumes de logs ou utilisateurs multiples), on peut √©voluer vers un d√©ploiement conventionnel ou distribu√© : les composants Graylog (serveur, n≈ìuds de donn√©es, MongoDB) sont r√©partis sur plusieurs machines, assurant haute disponibilit√© et scalabilit√©  .</p>
<p><strong>Elastic Stack (ELK)</strong>  a une architecture modulaire : Elasticsearch forme un cluster de n≈ìuds pour stocker et rechercher les logs (indices distribu√©s), Logstash est un pipeline de transformation flexible, et Kibana est l‚Äôinterface web. En pratique, on utilise souvent  <strong>Beats</strong>  (Filebeat, Winlogbeat, etc.) comme agents l√©gers c√¥t√© h√¥te pour exp√©dier directement les logs vers Elasticsearch (voire via Logstash pour enrichissement)  . Il n‚Äôy a pas de  <em>serveur SIEM</em>  unique dans ELK, mais on peut imaginer un sch√©ma similaire : plusieurs n≈ìuds Elasticsearch (avec r√©partition en shards/r√©plicas), au moins un Logstash pour pr√©traitement, et Kibana pour la visualisation. Dans un homelab, on peut se contenter d‚Äôun seul n≈ìud Elastic et un Kibana. Un sch√©ma Docker pr√©-packag√© (comme [deviantony/docker-elk]  ) facilite l‚Äôinstallation exp√©rimentale.</p>
<p><strong>Tableau 1. Comparaison de l‚Äôarchitecture et des composants</strong></p>
<p>TABLEAU</p>
<h2 id="collecte-de-logs-et-agents"><strong>Collecte de logs et agents</strong><a class="headerlink" href="#collecte-de-logs-et-agents" title="Permanent link">&para;</a></h2>
<ul>
<li>
<p><strong>Wazuh</strong>  utilise ses  <strong>agents l√©gers</strong>  multi-plateformes pour recueillir logs syst√®me, journaux de s√©curit√©, changements de fichiers, etc. en continu. Les agents chiffrent les donn√©es (AES-128/256 par d√©faut  ) et ouvrent une connexion s√©curis√©e (port 1514/TCP) vers le serveur Wazuh. Ils envoient tous les √©v√©nements, qui sont ensuite d√©cod√©s (analyse de texte, r√®gles) sur le serveur. Wazuh peut aussi collecter de mani√®re  <em>agentless</em>  (par ex. via syslog UDP/TCP ou SSH pour √©quipements r√©seau)  .</p>
</li>
<li>
<p><strong>ELK Stack</strong>  ne fournit pas d‚Äôagent propri√©taire, mais repose sur  <strong>Beats</strong>  (Filebeat pour logs texte, Winlogbeat pour journaux Windows, Metricbeat, etc.) ou Logstash pour r√©cup√©rer les logs. En homelab, on d√©ploie souvent des Filebeat/Winlogbeat sur les machines cibles afin d‚Äôexp√©dier les logs vers Elasticsearch. On peut aussi configurer Logstash ou syslog pour √©couter des flux. La flexibilit√© de Logstash permet d‚Äôenrichir ou filtrer les donn√©es, m√™me si beaucoup d‚Äôutilisateurs optent pour des alternatives plus l√©g√®res (Fluentd, Vector)  .</p>
</li>
<li>
<p><strong>Graylog</strong>  ne requiert pas d‚Äôagent exclusif. Il accepte les logs en entr√©e via divers protocoles : syslog (UDP/TCP), GELF (Graylog Extended Log Format), Beats, Kafka, etc. Une m√©thode courante est d‚Äôutiliser le ¬´ Graylog Sidecar ¬ª pour configurer et lancer automatiquement Filebeat/NxLog selon Graylog. L‚Äôinterface Graylog permet de cr√©er des  <em>Inputs</em>  pour chaque protocole, puis de router ces messages vers des  <em>Streams</em>  qui filtrent et taggent les donn√©es en temps r√©el  .</p>
</li>
</ul>
<p>Ainsi, en  <strong>homelab</strong>, on pourra utiliser par exemple :</p>
<ul>
<li>
<p>Wazuh Agent sur les serveurs Linux/Windows et Linux : collecte de logs / HIDS (d√©tection d‚Äôintrusion).</p>
</li>
<li>
<p>Filebeat/Winlogbeat directes vers Elastic ou Graylog (plus g√©n√©rique)  .</p>
</li>
<li>
<p>Syslog/Fluentd pour les √©quipements r√©seau ou appareils moins compatibles avec un agent.</p>
</li>
</ul>
<h2 id="detection-analyse-et-tableaux-de-bord"><strong>D√©tection, analyse et tableaux de bord</strong><a class="headerlink" href="#detection-analyse-et-tableaux-de-bord" title="Permanent link">&para;</a></h2>
<ul>
<li>
<p><strong>Wazuh</strong>  est avant tout un HIDS : il analyse les logs des agents √† la recherche de signatures d‚Äôattaque, modifications non autoris√©es (file integrity monitoring), rootkits, vuln√©rabilit√©s connues, etc. Il embarque des milliers de r√®gles pr√©d√©finies (CVE, MITRE, directives de s√©curit√©) et permet d‚Äô√©crire ses propres d√©codeurs/r√®gles  . Lorsqu‚Äôune r√®gle d√©clenche, Wazuh g√©n√®re une alerte prioris√©e. Les r√©sultats sont stock√©s en archives compress√©es (JSON ou texte) sign√©es par SHA256 pour int√©grit√©  , et index√©s dans Elasticsearch pour recherche via le tableau de bord. Le  <strong>dashboard Wazuh</strong>  (plugin OpenSearch/Kibana) donne une vue globale : statut des agents, inventaire de vuln√©rabilit√©s, alertes r√©centes, conformit√© r√©glementaire, etc. L‚Äôanalyse est centr√©e sur la s√©curit√© (alertes critiques) et la conformit√© (CIS, PCI-DSS, NIST)  .</p>
</li>
<li>
<p><strong>ELK Stack</strong>  est con√ßu d‚Äôabord pour la recherche et la visualisation de logs.  <strong>Elasticsearch</strong>  est un moteur full-text distribu√© tr√®s rapide pour indexer et rechercher de gros volumes de donn√©es  .  <strong>Kibana</strong>  fournit des visualisations et tableaux de bord interactifs personnalisables (histogrammes, heatmaps, s√©ries temporelles‚Ä¶). Cependant, dans sa version de base  <strong>open source</strong>, ELK n‚Äôinclut pas de moteur de corr√©lation ou d‚Äôalerting sp√©cifique √† la s√©curit√©. La d√©tection d‚Äôanomalies est possible avec  <strong>Elastic Security</strong>  (anciennement ¬´ SIEM ¬ª) et machine learning, mais ces fonctionnalit√©s avanc√©es sont en g√©n√©ral li√©es √† une licence payante. N√©anmoins, on peut mettre en place des r√®gles de d√©tection via les  <strong>Alertes Kibana</strong>  (Watchers) ou la biblioth√®que de d√©tection GitHub d‚ÄôElastic  , voire utiliser OpenSearch qui offre certaines capacit√©s de s√©curit√© (authentification, chiffrement) en OSS  . En pratique, l‚ÄôELK pur est surtout utile pour le ¬´  <em>search hunting</em>  ¬ª et la cr√©ation de dashboards m√©tier, plut√¥t que pour l‚ÄôIDS automatis√©.</p>
</li>
<li>
<p><strong>Graylog</strong>  combine les deux approches : c‚Äôest une plateforme d‚Äôagr√©gation de logs avec de nombreuses fonctions orient√©es s√©curit√©. Son interface permet des recherches rapides (requ√™tes Lucene) et la cr√©ation de tableaux de bord et graphiques en quelques clics. On utilise les  <strong>Streams</strong>  pour filtrer/segmenter les logs au fur et √† mesure, et les  <strong>Alerts</strong>  pour d√©clencher des notifications (email, Webhook, etc.) d√®s qu‚Äôun crit√®re est satisfait. Par exemple, on peut alerter sur plusieurs √©checs d‚Äôauthentification, d√©tection d‚ÄôIP suspecte, ou tout indicateur d√©finissable. Contrairement √† Wazuh, Graylog n‚Äôapporte pas de r√®gles de d√©tection pr√™tes √† l‚Äôemploi : la logique d‚Äôalerte doit √™tre configur√©e manuellement (ou via des plugins Sigma en Enterprise  ). En revanche, il peut ing√©rer et  <strong>corr√©ler</strong>  des logs de plusieurs sources (serveurs, firewall, IDS) pour les analystes. Graylog Security (√©dition payante) ajoute m√™me de la d√©tection automatique d‚Äôanomalies et du pattern matching avanc√©  , mais en usage domestique la version open suffit souvent pour centraliser et surveiller les logs.</p>
</li>
</ul>
<p><strong>Tableau de bord et alerting</strong> : Wazuh Dashboard et Kibana offrent des vues pr√™tes √† l‚Äôemploi ax√©es s√©curit√© et conformit√©, avec r√¥le API pour modifications √† distance  . Graylog propose un UI Web unifi√©e (port 9000) o√π l‚Äôon cr√©e facilement dashboards, recherche et r√®gles d‚Äôalerte  . Ces interfaces permettent aux d√©butants de d√©marrer rapidement. Les trois solutions supportent la visualisation en temps r√©el de donn√©es et un historique, bien que le dimensionnement du cluster (index) conditionne le volume d‚Äôhistorique accessible sans purger.</p>
<h2 id="cas-dusage-typiques-en-homelab"><strong>Cas d‚Äôusage typiques en homelab</strong><a class="headerlink" href="#cas-dusage-typiques-en-homelab" title="Permanent link">&para;</a></h2>
<p>Dans un laboratoire Blue Team domestique, on recherchera g√©n√©ralement :</p>
<ul>
<li>
<p><strong>Collecte centralis√©e de logs</strong>  : agr√©ger les journaux de tous les serveurs Linux/Windows, √©quipements r√©seaux (firewall, routeur) et VM. Par exemple, installer Wazuh Agent sur les PC Windows pour remonter les Event Logs, d√©ployer Filebeat sur des VMs Linux pour leurs  /var/log, ou envoyer tout via syslog/Graylog.</p>
</li>
<li>
<p><strong>D√©tection d‚Äôintrusion (HIDS/NIDS)</strong>  : surveiller les anomalies sur les h√¥tes. Wazuh fait figure de HIDS classique (fichiers modifi√©s, connexions suspectes, analyse des logs); ELK/Graylog peuvent ing√©rer aussi les alertes d‚Äôun NIDS (Suricata, Snort) et les corr√©ler  . Par exemple, les logs d‚ÄôIDS network Suricata peuvent √™tre envoy√©s √† Wazuh ou Graylog pour enrichissement et corr√©lation (Wazuh prend nativement en charge Suricata via un module  ).</p>
</li>
<li>
<p><strong>Alerting</strong>  : g√©n√©rer des notifications (mail, Slack, etc.) sur √©v√©nements critiques : Wazuh peut envoyer des alertes par mail ou Syslog quand une r√®gle se d√©clenche. Graylog d√©clenche aussi des alertes d√©finies sur des  <em>streams</em>. Kibana (ELK) permet d‚Äôutiliser des alertes Watcher ou des plugins d‚Äôaction dans OpenSearch.</p>
</li>
<li>
<p><strong>Monitoring temps r√©el</strong>  : visualiser l‚Äôactivit√© du r√©seau et des h√¥tes via des dashboards. Par ex. tableaux Graylog pour la r√©partition des logs par serveur/processus, courbes de charge ou heatmaps. Elastic/Kibana propose par ailleurs des plugins comme Elastic SIEM ou Observability pour surveiller l‚Äôinfrastructure (APM, m√©triques).</p>
</li>
</ul>
<p>Ces cas d‚Äôusage sont couverts par les trois outils, mais avec des approches diff√©rentes. Dans un petit homelab, on peut par exemple utiliser Wazuh pour la d√©tection h√¥te (HIDS) et √©galement envoyer ses journaux au cluster ELK ou Graylog pour analyse globale, tirant ainsi parti du meilleur des deux mondes.</p>
<h2 id="installation-dockerlxc-et-architecture-type"><strong>Installation Docker/LXC et architecture type</strong><a class="headerlink" href="#installation-dockerlxc-et-architecture-type" title="Permanent link">&para;</a></h2>
<p>En environnement domestique, l‚Äôusage de conteneurs (Docker, LXC) facilite le d√©ploiement :</p>
<ul>
<li>
<p><strong>Wazuh</strong>  : la documentation officielle propose des images Docker composant le ¬´ full-stack ¬ª Wazuh (serveur, indexer, tableau de bord)  . Une simple  docker-compose  r√©cup√®re tout en une fois. Le d√©p√¥t  <a href="https://github.com/wazuh/wazuh-docker">wazuh-docker</a>  fournit notamment un stack pr√™t √† l‚Äôemploi (Wazuh Manager + OpenSearch + Dashboard)  . Pour un seul serveur Wazuh et un n≈ìud OpenSearch, une VM ou LXC avec ~6‚ÄØGo de RAM est recommand√©e  . Des templates Proxmox (LXC) pour Wazuh existent dans certaines communaut√©s.</p>
</li>
<li>
<p><strong>ELK</strong>  : il existe de nombreux Docker Compose tout-en-un (par ex. [deviantony/docker-elk]  ) incluant Elasticsearch, Logstash et Kibana. On peut lancer  docker-compose up  pour disposer d‚Äôun cluster minimal √† 1 n≈ìud. En LXC, il suffit d‚Äôinstaller Docker ou directement Elastic sur Debian/Ubuntu. Un notebook Raspberry Pi ou petit serveur (‚â•4‚ÄØGo) peut ainsi faire tourner une instance de test (certains revendeurs fournissent des images Debian d√©j√† configur√©es).</p>
</li>
<li>
<p><strong>Graylog</strong>  : Graylog fournit une image Docker officielle (¬´ graylog/graylog ¬ª). Un exemple de  docker-composeint√®gre 3 conteneurs : MongoDB (pour les m√©tadonn√©es), Elasticsearch/OpenSearch (pour le stockage), et Graylog Server  . Le serveur Graylog √©coute par d√©faut sur le port 9000 (web UI) et sur divers ports syslog (1514 TCP/UDP, 12201 GELF, etc.) comme montr√© ci-dessus  . En LXC, on installe Java 11, MongoDB et Elasticsearch avant Graylog server. Un minimum de  <strong>4‚ÄØGo de RAM</strong>  est conseill√© pour un petit setup Graylog  .</p>
</li>
</ul>
<p><strong>Exemple d‚Äôarchitecture Docker pour Graylog (cluster minimal)</strong> : MongoDB + Elasticsearch (chaque container √† ~1‚ÄØGo RAM) + Graylog (&lt;1‚ÄØGo) dans un r√©seau bridge. Graylog expose 9000, 12201, 1514, etc. (voir exemple [31‚Ä†L182-L190]).</p>
<h2 id="performances-et-ressources"><strong>Performances et ressources</strong><a class="headerlink" href="#performances-et-ressources" title="Permanent link">&para;</a></h2>
<p>Ces plateformes sont gourmandes en I/O disque et RAM, particuli√®rement √† mesure que le volume de logs cro√Æt. Les bonnes pratiques sont similaires pour toutes : utiliser des SSD rapides, allouer suffisamment de m√©moire et pr√©voir la mont√©e en charge.</p>
<ul>
<li>
<p><strong>M√©moire</strong> : Wazuh (avec OpenSearch) demande au moins  <strong>6‚ÄØGo RAM</strong>  sur l‚Äôh√¥te Docker complet  . Graylog conseille  <strong>4‚ÄØGo minimum</strong>  pour un petit usage, mais  <strong>8‚Äì16‚ÄØGo</strong>  pour la production  . Elasticsearch (ELK) peut s‚Äôex√©cuter sur 2‚Äì4‚ÄØGo pour un usage tr√®s l√©ger, mais 8‚Äì16‚ÄØGo voire plus sont n√©cessaires pour un cluster de taille moyenne, en raison du heap Java. Un indice cl√© est que l‚ÄôElastic Stack n√©cessite de favoriser la RAM (environ 50% d√©di√©e au heap Java) pour des recherches rapides. Comme le note Matt Hayes, ‚Äú2‚ÄØGo de RAM, c‚Äôest le minimum, 4‚ÄØGo fonctionnera mieux‚Äù pour un ELK minimal  . De son c√¥t√©, Wazuh recommande un calcul de  vm.max_map_count=262144  pour OpenSearch (n√©cessaire pour le mappage m√©moire)  .</p>
</li>
<li>
<p><strong>CPU</strong> : Elasticsearch est parall√©lis√© sur plusieurs c≈ìurs pour l‚Äôindexation et les recherches full-text. Logstash est connu gourmand en CPU et m√©moire lors de fortes ingestations (selon ses pipelines). Graylog (Java + Elasticsearch) tire avantage de plusieurs c≈ìurs aussi. En g√©n√©ral, pr√©voir au moins 2 vCPU pour chaque n≈ìud (4 CPU pour cluster ELK plus Wazuh).</p>
</li>
<li>
<p><strong>Stockage</strong> : tous conseillent l‚Äôusage de  <strong>SSDs/ NVMe</strong>. Par exemple, la doc Graylog souligne l‚Äôimportance de stocker le journal de messages et les indices sur des disques haute-IOPS (id√©alement SSD)  . Les logs √©tant volumineux et en √©criture continue, mieux vaut dimensionner le disque en fonction de la r√©tention souhait√©e (par ex.  [ingest quotidien] √ó [jours de r√©tention] √ó 1.2)  . Wazuh archive quotidiennement ses logs avec compression et checksums  , mais conserve aussi tout dans Elasticsearch si la r√©tention est long-terme.</p>
</li>
<li>
<p><strong>Scalabilit√©</strong> : toutes les solutions se  <strong>clusterisent</strong>  pour g√©rer plus de donn√©es. Wazuh peut d√©ployer un cluster de serveurs Wazuh (master/worker) et un cluster OpenSearch pour l‚Äôindexation  . Graylog (Community) permet d‚Äôajouter des Graylog Servers suppl√©mentaires derri√®re un load balancer, chacun traitant les m√™mes inputs, tandis que Elasticsearch se met en cluster pour les donn√©es  . Ce d√©ploiement conventionnel assure HA et mont√©e en charge facile  . Elastic/Opensearch est con√ßu pour scaler horizontalement ; on peut commencer sur un seul n≈ìud mais passer √† 3+ n≈ìuds de donn√©es avec r√©plicas pour la r√©silience.</p>
</li>
<li>
<p><strong>S√©curit√©</strong> : Wazuh chiffrera nativement la communication agent-serveur (AES)  , et l‚ÄôAPI/GUI utilisent TLS et authentification. Graylog lui recommande de forcer TLS entre les n≈ìuds et d‚Äôappliquer le RBAC (contr√¥le d‚Äôacc√®s par r√¥les) pour s√©curiser l‚Äôacc√®s  . Elasticsearch (dans son offre OSS) offre maintenant des fonctionnalit√©s basiques de s√©curit√© sur Basic License (auth, HTTPS) ; la version OpenSearch (fork AWS) int√®gre chiffrement et ACL sans licence suppl√©mentaire  .</p>
</li>
<li>
<p><strong>Maintenance</strong> : la gestion consiste √† surveiller les disques (purger/archiver les indices anciens), sauvegarder la base MongoDB (Graylog) et les snapshots d‚ÄôElasticsearch. Graylog souligne l‚Äôimportance de sauvegarder Mongo, les indices OpenSearch et la config  . Wazuh pr√©conise aussi de purger/archiver les anciens logs (ossec-archive-*.gzsign√©s) ou de ne compter que sur les snapshots d‚ÄôElasticsearch  . Les mises √† jour impliquent souvent de mettre √† jour en s√©quence les composants (par ex. Elasticsearch puis Wazuh). En homelab, l‚Äôautomatisation (Ansible, Docker Compose) aide √† r√©duire la charge op√©rationnelle  .</p>
</li>
</ul>
<h2 id="recommandations-par-profil-dusage"><strong>Recommandations par profil d‚Äôusage</strong><a class="headerlink" href="#recommandations-par-profil-dusage" title="Permanent link">&para;</a></h2>
<ul>
<li>
<p><strong>D√©butant / homelab simple</strong>  : pr√©f√©rez la solution la plus  <strong>cl√©-en-main</strong>. Graylog (√©dition Open) est simple √† installer et dispose d‚Äôune interface intuitive pour d√©marrer. Le Docker Compose officiel permet de monter un syst√®me complet en quelques commandes. ELK est aussi abordable via un stack Docker (deviantony/docker-elk), mais Elastic demande un peu plus d‚Äôajustements (certificates, m√©moire). Wazuh, bien que puissant en d√©tection, n√©cessite plus de configuration initiale (d√©ploiement des agents, r√®gles) ‚Äì il peut √™tre mis en place apr√®s familiarisation ou dans un second temps.</p>
</li>
<li>
<p><strong>Power user / exp√©riment√©</strong>  : si vous visez de la d√©tection HIDS avanc√©e, Wazuh est un excellent choix car il offre d√®s le d√©part des capacit√©s de threat hunting (FIM, r√®gles CVE/CIS)  . Vous pouvez associer Wazuh √† une plateforme log (Graylog ou ELK) pour l‚Äôanalyse forensique des alertes. ELK (ou son fork OpenSearch) convient pour manipuler et visualiser de gros volumes de donn√©es, √©crire ses propres r√®gles (Sigma/Kibana Alerts) ou utiliser du machine learning Elastic. Graylog est quant √† lui tr√®s flexible pour construire des flux et alertes personnalis√©es via son syst√®me de  <em>streams</em>.</p>
</li>
<li>
<p><strong>Usage professionnel / grand volume</strong>  : en production, les trois s‚Äôindustrialiseront en clusters. Graylog Enterprise offre des fonctions SIEM avanc√©es (correlation, archiving) et support commercial. Wazuh peut g√©rer des milliers d‚Äôagents sur un cluster, avec indexeurs r√©pliqu√©s  . L‚ÄôElastic Stack, coupl√© √† Elastic Security, reste une r√©f√©rence ¬´ tout-en-un ¬ª, mais sa licence propri√©taire r√©cente implique souvent de migrer vers OpenSearch ou la version Enterprise pour rester open source  .</p>
</li>
</ul>
<p>En r√©sum√©,  <strong>pour un homelab Blue Team</strong>  d√©butant, Graylog (simple √† prendre en main) ou le combo  <em>Wazuh+Graylog</em>(Wazuh pour l‚ÄôIDS, Graylog pour la log-analyse) est souvent conseill√©. Les utilisateurs avanc√©s pourront opter pour Wazuh ou Elastic+Wazuh (via le plugin Wazuh pour Kibana) pour profiter de r√®gles de d√©tection d√©j√† disponibles. Enfin, l‚Äôessentiel est de disposer d‚Äôune collecte de logs fiable et d‚Äôun minimum d‚Äôalerting ; les trois outils remplissent ces fonctions, √† chacun de choisir selon ses pr√©f√©rences en terme d‚Äôinterface, de langage de requ√™te et de charge syst√®me.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.sections", "navigation.expand", "toc.integrate", "content.code.annotate", "search.highlight", "search.suggest"], "search": "../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copi\u00e9 dans le presse-papier", "clipboard.copy": "Copier dans le presse-papier", "search.result.more.one": "1 de plus sur cette page", "search.result.more.other": "# de plus sur cette page", "search.result.none": "Aucun document trouv\u00e9", "search.result.one": "1 document trouv\u00e9", "search.result.other": "# documents trouv\u00e9s", "search.result.placeholder": "Taper pour d\u00e9marrer la recherche", "search.result.term.missing": "Non trouv\u00e9", "select.version": "S\u00e9lectionner la version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.56ea9cef.min.js"></script>
      
    
  </body>
</html>