
<!doctype html>
<html lang="fr" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Documentation pour construire un homelab s√©curis√© et complet">
      
      
        <meta name="author" content="krhsaay">
      
      
      
        <link rel="prev" href="../proxmox/">
      
      
        <link rel="next" href="../reseau/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.15">
    
    
      
        <title>Stockage - Homelabs Doc</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.342714a4.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#gestion-du-stockage-dans-un-homelab-securise" class="md-skip">
          Aller au contenu
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="En-t√™te">
    <a href="../.." title="Homelabs Doc" class="md-header__button md-logo" aria-label="Homelabs Doc" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Homelabs Doc
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Stockage
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Rechercher" placeholder="Rechercher" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Recherche">
        
        <button type="reset" class="md-search__icon md-icon" title="Effacer" aria-label="Effacer" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initialisation de la recherche
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



  

<nav class="md-nav md-nav--primary md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Homelabs Doc" class="md-nav__button md-logo" aria-label="Homelabs Doc" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Homelabs Doc
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Accueil
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    üèó Infrastructure
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            üèó Infrastructure
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../proxmox/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Proxmox VE
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Stockage
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Stockage
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table des mati√®res">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table des mati√®res
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#comparatif-des-systemes-de-fichiers-zfs-vs-btrfs-vs-ext4-vs-xfs" class="md-nav__link">
    <span class="md-ellipsis">
      Comparatif des syst√®mes de fichiers : ZFS vs Btrfs vs EXT4 vs XFS
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Comparatif des syst√®mes de fichiers : ZFS vs Btrfs vs EXT4 vs XFS">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ext4-le-pilier-stable-et-eprouve" class="md-nav__link">
    <span class="md-ellipsis">
      EXT4 ‚Äì Le pilier stable et √©prouv√©
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#xfs-le-moteur-de-performance-evolutif" class="md-nav__link">
    <span class="md-ellipsis">
      XFS ‚Äì Le moteur de performance √©volutif
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#btrfs-linnovateur-riche-en-fonctionnalites" class="md-nav__link">
    <span class="md-ellipsis">
      Btrfs ‚Äì L‚Äôinnovateur riche en fonctionnalit√©s
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zfs-le-gardien-de-lintegrite-des-donnees" class="md-nav__link">
    <span class="md-ellipsis">
      ZFS ‚Äì Le gardien de l‚Äôint√©grit√© des donn√©es
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#redondance-et-tolerance-aux-pannes" class="md-nav__link">
    <span class="md-ellipsis">
      Redondance et tol√©rance aux pannes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Redondance et tol√©rance aux pannes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#raid-niveaux-materiel-vs-logiciel" class="md-nav__link">
    <span class="md-ellipsis">
      RAID : niveaux, mat√©riel vs logiciel
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#snapshots-restauration-instantanee-et-limites" class="md-nav__link">
    <span class="md-ellipsis">
      Snapshots : restauration instantan√©e et limites
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sauvegardes-strategies-locales-vs-cloud-outils-open-source" class="md-nav__link">
    <span class="md-ellipsis">
      Sauvegardes : strat√©gies locales vs cloud, outils open source
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#integration-dun-nas-et-stockage-centralise-avec-proxmox" class="md-nav__link">
    <span class="md-ellipsis">
      Int√©gration d‚Äôun NAS et stockage centralis√© avec Proxmox
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Int√©gration d‚Äôun NAS et stockage centralis√© avec Proxmox">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#truenas-vs-synology-vs-openmediavault-solutions-nas-comparees" class="md-nav__link">
    <span class="md-ellipsis">
      TrueNAS vs Synology vs OpenMediaVault : solutions NAS compar√©es
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#integrer-un-nas-a-proxmox-ve-nfs-smb-iscsi" class="md-nav__link">
    <span class="md-ellipsis">
      Int√©grer un NAS √† Proxmox VE (NFS, SMB, iSCSI)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#grille-daide-au-choix-du-stockage" class="md-nav__link">
    <span class="md-ellipsis">
      Grille d‚Äôaide au choix du stockage
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reseau/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    R√©seau & VLANs
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lxc-vs-vm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    LXC vs VM
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    üåê R√©seau
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            üåê R√©seau
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reseau/dashboard/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Dashboards
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reseau/dns/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    DNS (Pi-hole, AdGuard...)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reseau/vpn-remote-access/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Acc√®s VPN distant
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reseau/reverse-proxy/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Reverse Proxy
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reseau/ddns/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    DNS Dynamique (DDNS)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reseau/torrent-vpn/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    VPN et torrents
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    üß∞ Outils
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            üß∞ Outils
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../outils/gestion-fichiers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Gestion de fichiers
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../outils/gestion-mots-de-passe/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Mots de passe (Vaultwarden...)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../outils/favoris/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Favoris et veille (Hoarder)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../outils/docker/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Docker & Portainer
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    üì∫ M√©dia
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            üì∫ M√©dia
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../media/streaming/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Streaming (Jellyfin, Plex)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../media/overseerr-sonarr/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Sonarr, Overseerr
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../media/clients-download.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    T√©l√©chargements (qBittorrent)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../media/photos/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Photos (Immich)
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    üè† Domotique
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            üè† Domotique
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../domotique/homeassistant/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home Assistant
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../domotique/zigbee/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Zigbee2MQTT
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../domotique/surveillance/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Vid√©osurveillance (Frigate)
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    üìä Monitoring
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            üìä Monitoring
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../monitoring/grafana/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Grafana
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../monitoring/prometheus-influx/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Prometheus / InfluxDB
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../monitoring/netalert/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    NetAlertX
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    üîê S√©curit√©
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            üîê S√©curit√©
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../securite/vaultwarden/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Vaultwarden
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../securite/authentification/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Authentification MFA
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../securite/siem/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    SIEM (Wazuh, ELK...)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../securite/segmentation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Segmentation & honeypots
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_9" >
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    üß™ DIY
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            üß™ DIY
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../diy/esp32/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ESP32 & capteurs
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../diy/octoprint.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    OctoPrint & impression 3D
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../diy/n8n.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    N8N Automatisation
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="gestion-du-stockage-dans-un-homelab-securise"><strong>Gestion du stockage dans un homelab s√©curis√©</strong><a class="headerlink" href="#gestion-du-stockage-dans-un-homelab-securise" title="Permanent link">&para;</a></h1>
<h2 id="comparatif-des-systemes-de-fichiers-zfs-vs-btrfs-vs-ext4-vs-xfs"><strong>Comparatif des syst√®mes de fichiers : ZFS vs Btrfs vs EXT4 vs XFS</strong><a class="headerlink" href="#comparatif-des-systemes-de-fichiers-zfs-vs-btrfs-vs-ext4-vs-xfs" title="Permanent link">&para;</a></h2>
<p>Dans un homelab, le choix du syst√®me de fichiers impacte directement la  <strong>fiabilit√© des donn√©es</strong>  et les fonctionnalit√©s disponibles (snapshots, RAID, compression‚Ä¶). Les syst√®mes de fichiers traditionnels comme  <strong>EXT4</strong>  et  <strong>XFS</strong>  offrent stabilit√© et performance de base, tandis que  <strong>Btrfs</strong>  et  <strong>ZFS</strong>  int√®grent des fonctions avanc√©es (copie sur √©criture, somme de contr√¥le, etc.) pour am√©liorer l‚Äôint√©grit√© des donn√©es. Voici un comparatif d√©taill√© de leurs caract√©ristiques, avantages, inconv√©nients et cas d‚Äôusage.</p>
<h3 id="ext4-le-pilier-stable-et-eprouve"><strong>EXT4 ‚Äì Le pilier stable et √©prouv√©</strong><a class="headerlink" href="#ext4-le-pilier-stable-et-eprouve" title="Permanent link">&para;</a></h3>
<p><strong>EXT4</strong>  (Fourth Extended Filesystem) est le syst√®me de fichiers par d√©faut de nombreuses distributions Linux depuis 2008. √âvolution du EXT3, il est r√©put√© pour sa  <strong>stabilit√©</strong>  et sa  <strong>performance √©quilibr√©e</strong>, avec un journal assurant une r√©cup√©ration rapide en cas de crash. Il fonctionne bien dans presque tous les sc√©narios g√©n√©raux.</p>
<ul>
<li>
<p><strong>Avantages :</strong>  Mature et ultra-stable (plus de 10 ans d‚Äôusage intensif)  . Large compatibilit√© (support√© nativement par la plupart des OS Linux et outils). Bonnes performances g√©n√©rales en lecture/√©criture, y compris sur des disques de grande capacit√©. Utilise un  <strong>journaling</strong>  qui am√©liore la r√©silience en cas de panne syst√®me  .</p>
</li>
<li>
<p><strong>Inconv√©nients :</strong>  Pas de fonctionnalit√©s avanc√©es int√©gr√©es ‚Äì absence de snapshots, de compression transparente ou de m√©canisme de RAID interne  . Protection d‚Äôint√©grit√© limit√©e : pas de  <strong>somme de contr√¥le des donn√©es</strong>  (seulement journal des m√©tadonn√©es), donc pas de d√©tection automatique de corruption. √âvolutivit√© suffisante pour la plupart des cas, mais en th√©orie moins extensible que Btrfs/ZFS.</p>
</li>
<li>
<p><strong>Cas d‚Äôusage recommand√©s :</strong>  Syst√®mes Linux g√©n√©raux (PC, serveurs web, etc.) o√π la  <strong>simplicit√© et la fiabilit√© √©prouv√©e</strong>  priment  . Parfait pour les partitions syst√®me ou le stockage de donn√©es non critiques dans un homelab, lorsque l‚Äôon n‚Äôa pas besoin des fonctionnalit√©s avanc√©es des syst√®mes modernes.</p>
</li>
</ul>
<h3 id="xfs-le-moteur-de-performance-evolutif"><strong>XFS ‚Äì Le moteur de performance √©volutif</strong><a class="headerlink" href="#xfs-le-moteur-de-performance-evolutif" title="Permanent link">&para;</a></h3>
<p><strong>XFS</strong>  est un syst√®me de fichiers journalis√© 64 bit, cr√©√© √† l‚Äôorigine pour SGI IRIX (ann√©es 90) et adopt√© dans le monde Linux (c‚Äôest le choix par d√©faut de Red Hat Enterprise Linux, par ex.). Il est r√©put√© pour sa  <strong>haute performance en I/O</strong>(surtout sur les gros fichiers et les op√©rations parall√®les) et son excellente  <strong>scalabilit√©</strong>  sur de tr√®s grandes volum√©tries.</p>
<ul>
<li>
<p><strong>Avantages :</strong>  Tr√®s  <strong>performant en d√©bit</strong>  s√©quentiel et pour les fichiers de grande taille  . Supporte des syst√®mes de fichiers massifs (jusqu‚Äô√† 8 exabytes) et g√®re efficacement les charges intensives (grandes bases de donn√©es, streaming vid√©o, etc.). Stable et √©prouv√© en production, avec des fonctionnalit√©s comme la d√©fragmentation √† chaud et le journaling pour prot√©ger les m√©tadonn√©es.</p>
</li>
<li>
<p><strong>Inconv√©nients :</strong>  Moins efficace avec d‚Äôinnombrables petits fichiers ou des charges tr√®s m√©tadonn√©es (le design privil√©gie les grands flux)  . N‚Äôint√®gre  <em>pas</em>  de snapshots, compression ou chiffrement natifs (il faut s‚Äôappuyer sur LVM ou des solutions externes pour ces besoins)  . De plus, XFS ne permet pas de  <strong>r√©duire</strong>  la taille d‚Äôun syst√®me de fichiers (on peut l‚Äôagrandir, mais pas le shrink).</p>
</li>
<li>
<p><strong>Cas d‚Äôusage recommand√©s :</strong>  Serveurs de fichiers volumineux, stockage de m√©dias et de vid√©os,  <strong>workstations de montage</strong>  vid√©o, environnements avec gros fichiers (images disque, backups volumineux) ou  <strong>h√¥tes de virtualisation</strong>  g√©rant de nombreux fichiers VM de taille cons√©quente  . XFS excelle d√®s qu‚Äôil faut un d√©bit maximal et une gestion efficace de tr√®s grandes capacit√©s.</p>
</li>
</ul>
<h3 id="btrfs-linnovateur-riche-en-fonctionnalites"><strong>Btrfs ‚Äì L‚Äôinnovateur riche en fonctionnalit√©s</strong><a class="headerlink" href="#btrfs-linnovateur-riche-en-fonctionnalites" title="Permanent link">&para;</a></h3>
<p><strong>Btrfs</strong>  (B-Tree FS, souvent prononc√© ‚ÄúButter FS‚Äù) est un syst√®me de fichiers moderne introduit en 2009, con√ßu pour apporter des fonctionnalit√©s de niveau entreprise sur Linux (copy-on-write, snapshots, RAID logiciel‚Ä¶). Il est par exemple le syst√®me par d√©faut sur Fedora, openSUSE et utilis√© par Synology sur certains NAS. Btrfs est souvent compar√© √† ZFS en termes d‚Äôobjectifs, tout en √©tant int√©gr√© au noyau Linux.</p>
<ul>
<li>
<p><strong>Fonctionnalit√©s cl√©s :</strong>  Btrfs prend en charge les  <strong>snapshots instantan√©s</strong>  (copies d‚Äô√©tat du syst√®me de fichiers √† un instant T) et les  <strong>subvolumes</strong>  (unit√©s logiques s√©par√©es)  . Il propose un  <strong>RAID logiciel int√©gr√©</strong>  (niveaux 0, 1, 10 et 5/6 exp√©rimentaux) sans n√©cessiter d‚Äôoutil externe, ainsi que la  <strong>compression transparente</strong>  des donn√©es (algorithmes support√©s : zlib, lzo, zstd) pour √©conomiser de l‚Äôespace  . Surtout, Btrfs calcule des  <strong>checksums</strong>  sur les donn√©es et m√©tadonn√©es pour d√©tecter les corruptions, et peut r√©aliser une auto-r√©paration s‚Äôil y a redondance (RAID 1/10)  . On note aussi une grande flexibilit√© avec possibilit√© d‚Äô<strong>agrandir ou r√©duire</strong>  un volume en ligne, et une gestion fine des quotas et de la d√©duplication (via des outils externes).</p>
</li>
<li>
<p><strong>Avantages :</strong>  <strong>Snapshots rapides</strong>  et peu co√ªteux en espace (on peut en prendre fr√©quemment pour tester des modifications et revenir en arri√®re facilement).  <strong>RAID logiciel</strong>  directement dans le syst√®me de fichiers (pas besoin de mdadm), avec tol√©rance aux pannes et auto-r√©paration (en modes mirroring)  .  <strong>Compression</strong>  et  <strong>d√©duplication</strong>(optionnelle) pour optimiser le stockage. √âvolutivit√© et souplesse (ajout/retrait de disques dans un volume Btrfs, redimensionnement √† la vol√©e). En somme, Btrfs est un v√©ritable  <strong>couteau suisse</strong>  du stockage, r√©unissant de nombreuses fonctionnalit√©s avanc√©es.</p>
</li>
<li>
<p><strong>Inconv√©nients :</strong>  Moins mature qu‚ÄôEXT4/XFS dans certaines situations critiques : toutes les distributions ne consid√®rent pas Btrfs aussi ‚Äúproduction-ready‚Äù pour les workloads intensifs (bien qu‚Äôil s‚Äôam√©liore constamment)  . L‚Äôimpl√©mentation des modes RAID 5/6 est encore consid√©r√©e  <em>exp√©rimentale</em>  ‚Äì des probl√®mes de fiabilit√© n‚Äôont pas √©t√© totalement r√©solus √† ce jour, ce qui d√©conseille leur usage en production  . De plus, Btrfs induit un l√©ger  <strong>surco√ªt de performance</strong>  d√ª au copy-on-write et aux checksums (impact surtout visible sur du mat√©riel plus ancien ou des charges lourdes en √©criture)  . Enfin, l‚Äô<strong>administration</strong>  peut sembler complexe pour les d√©butants (subvolumes, √©quilibre du FS, etc.), m√™me si des outils comme  btrfs-progs  ou Snapper facilitent la gestion.</p>
</li>
<li>
<p><strong>Cas d‚Äôusage recommand√©s :</strong>  Id√©al pour les  <strong>NAS auto-h√©berg√©s</strong>  et serveurs domestiques qui profitent de ses fonctionnalit√©s (par ex. snapshots programm√©s pour les sauvegardes, ou utilisation de la compression pour stocker plus de donn√©es). Recommand√© aussi pour les utilisateurs d√©veloppeurs ou ‚Äúpower users‚Äù qui appr√©cient les  <strong>fonctionnalit√©s avanc√©es</strong>  et les options de rollback facile (ex: snapshots avant une mise √† jour syst√®me). Btrfs convient bien √©galement aux environnements de containers et machines de test o√π l‚Äôon veut cloner rapidement des environnements (subvolumes et snapshots) tout en b√©n√©ficiant de la s√©curit√© des checksums.</p>
</li>
</ul>
<h3 id="zfs-le-gardien-de-lintegrite-des-donnees"><strong>ZFS ‚Äì Le gardien de l‚Äôint√©grit√© des donn√©es</strong><a class="headerlink" href="#zfs-le-gardien-de-lintegrite-des-donnees" title="Permanent link">&para;</a></h3>
<p><strong>ZFS</strong>  est souvent consid√©r√© comme le  <strong>Saint Graal de la fiabilit√©</strong>  des syst√®mes de fichiers. Con√ßu par Sun Microsystems et d√©sormais d√©velopp√© via le projet open source OpenZFS, il combine un syst√®me de fichiers  <strong>et</strong>  un gestionnaire de volumes logiques. ZFS introduit des concepts r√©volutionnaires de  <strong>stockage en pool</strong>  (agr√©gation flexible de disques) et de  <strong>principe Copy-on-Write</strong>  g√©n√©ralis√© garantissant une forte coh√©rence. Tr√®s utilis√© dans les NAS professionnels (TrueNAS, etc.) et les infrastructures exigeant une haute int√©grit√©, ZFS est aussi support√© sous Linux (via module DKMS) et int√©gr√© nativement √† FreeBSD.</p>
<ul>
<li>
<p><strong>Fonctionnalit√©s cl√©s :</strong>  ZFS offre un √©ventail complet de fonctionnalit√©s: syst√®me Copy-on-Write avec  <strong>snapshots et clones</strong>  natifs (snapshots instantan√©s et clones modifiables)  ,  <strong>v√©rification d‚Äôint√©grit√©</strong>  continue avec  <strong>checksums sur chaque bloc de donn√©es</strong>  et  <strong>auto-r√©paration</strong>  en cas de corruption gr√¢ce aux copies redondantes  , compression transparente (algorithme LZ4 par d√©faut, ZSTD possible),  <strong>deduplication</strong>  optionnelle des donn√©es, et bien s√ªr son propre syst√®me de  <strong>RAID avanc√© (RAID-Z)</strong>  √©quivalent aux RAID 5/6/7 mais sans les √©cueils classiques (pas de  <em>write hole</em>, reconstruction plus s√ªre)  . ZFS g√®re √©galement le  <strong>chiffrement natif</strong>  (depuis OpenZFS 2.0) et la r√©plication de snapshots vers d‚Äôautres syst√®mes ZFS. Enfin, il est notoirement  <strong>scalable</strong>  √† des √©chelles √©normes (pouvant adresser des p√©taoctets √† l‚Äôaise, bien au-del√† des besoins d‚Äôun homelab).</p>
</li>
<li>
<p><strong>Avantages :</strong>  <strong>Int√©grit√© des donn√©es in√©gal√©e</strong>  ‚Äì chaque lecture est v√©rifi√©e par checksum, et en cas d‚Äôerreur ZFS peut automatiquement corriger en lisant une copie saine (sur un miroir ou RAID-Z)  .  <strong>Stockage unifi√© en pools</strong>  : on peut agr√©ger les disques en vdevs (simple, miroir, RAID-Z‚Ä¶) au sein d‚Äôun m√™me pool et cr√©er des syst√®mes de fichiers ou volumes √† la vol√©e, ce qui simplifie la gestion compar√© √† LVM.  <strong>Snapshots et clones</strong>  efficaces pour les backups et tests, int√©gr√©s directement (on peut par exemple snapshotter une VM en un instant et la cloner pour testing).  <strong>Compression</strong>  et  <strong>dedup</strong>  √©conomisent de l‚Äôespace (au prix de ressources CPU/RAM suppl√©mentaires)  .  <strong>√âvolutivit√© et performance</strong>  : ZFS peut exploiter de grandes quantit√©s de RAM comme cache (ARC) pour acc√©l√©rer les acc√®s, et il supporte le cache SSD (L2ARC) et le log s√©par√© (ZIL/SLOG) pour booster les performances d‚Äô√©criture sync. Con√ßu initialement pour de l‚Äôentreprise, ZFS  <strong>monte en puissance</strong>  avec le mat√©riel ‚Äì plus on lui donne de la RAM et des disques rapides, mieux il se comporte, du petit NAS jusqu‚Äôau stockage de datacenter  .</p>
</li>
<li>
<p><strong>Inconv√©nients :</strong>  <strong>Gourmand en ressources</strong>  : il est recommand√© d‚Äôavoir de la RAM en quantit√© (souvent on sugg√®re ~1 Go par To de stockage, bien que cela d√©pende des fonctions activ√©es)  . Sur du mat√©riel limit√© (petit homelab avec 2 Go de RAM par ex), ZFS peut ne pas donner la pleine mesure de ses avantages. De plus, sous Linux, ZFS n‚Äôest pas int√©gr√© au noyau pour des raisons de licence (CDDL incompatible GPL), il faut donc l‚Äôinstaller s√©par√©ment (module DKMS ou kernel custom) ‚Äì cela ajoute un peu de complexit√© aux mises √† jour syst√®me  . La  <strong>complexit√©</strong>  g√©n√©rale de ZFS peut √™tre d√©routante pour un d√©butant : de nombreux concepts (pool, vdevs, dataset, zvol, etc.) et options de r√©glage. Cela peut sembler  <em>overkill</em>  pour de petites configurations, o√π un syst√®me plus simple suffirait. Enfin, notons que l‚Äô<strong>expansion d‚Äôun pool ZFS</strong>  peut √™tre contraignante selon la configuration (on ne peut pas encore, au 21, √©tendre facilement un vdev RAID-Z en ajoutant un disque, sans recr√©er le vdev ‚Äì bien que la fonctionnalit√© d‚Äôextension RAID-Z soit en d√©veloppement actif).</p>
</li>
<li>
<p><strong>Cas d‚Äôusage recommand√©s :</strong>  ZFS brille dans les sc√©narios o√π la  <strong>pr√©servation des donn√©es</strong>  est critique. Pour un homelab s√©curis√©, si vous h√©bergez des  <strong>machines virtuelles</strong>  ou des  <strong>conteneurs</strong>, ZFS (int√©gr√© dans Proxmox VE, par exemple) permet d‚Äôavoir des  <strong>snapshots coh√©rents</strong>  et d‚Äô√©viter la corruption silencieuse des images disque gr√¢ce aux checksums. Id√©al aussi pour un  <strong>NAS maison</strong>  o√π l‚Äôon veut un maximum de fiabilit√© (par exemple un serveur de sauvegarde centralis√©, un stockage pour photos/vid√©os pr√©cieuses) ‚Äì ZFS assure que vos backups ne se d√©gradent pas avec le temps (protection contre le  <em>bitrot</em>). En entreprise ou pour les utilisateurs avanc√©s, ZFS est le choix de pr√©dilection pour les  <strong>appliances de stockage</strong>  (NAS TrueNAS, serveurs de fichiers critiques, etc.) gr√¢ce √† son m√©lange de performance et de s√©curit√© des donn√©es  . En r√©sum√©, si vos besoins requi√®rent la  <strong>s√ªret√© maximale des donn√©es</strong>  et que vous disposez du mat√©riel ad√©quat, ZFS est un alli√© de poids.</p>
</li>
</ul>
<h2 id="redondance-et-tolerance-aux-pannes"><strong>Redondance et tol√©rance aux pannes</strong><a class="headerlink" href="#redondance-et-tolerance-aux-pannes" title="Permanent link">&para;</a></h2>
<p>M√™me dans un homelab, il est essentiel de pr√©voir les d√©faillances mat√©rielles. Disques qui tombent en panne, erreurs humaines, ransomware ‚Äì une bonne strat√©gie de stockage  <em>s√©curis√©</em>  repose sur plusieurs couches :  <strong>redondance en temps r√©el</strong>  (RAID, mirroring‚Ä¶),  <strong>points de restauration</strong>  (snapshots) et  <strong>sauvegardes externes</strong>. Nous allons passer en revue les options de RAID, l‚Äôutilisation des snapshots et les strat√©gies de sauvegarde, sp√©cialement adapt√©es √† un homelab.</p>
<h3 id="raid-niveaux-materiel-vs-logiciel"><strong>RAID : niveaux, mat√©riel vs logiciel</strong><a class="headerlink" href="#raid-niveaux-materiel-vs-logiciel" title="Permanent link">&para;</a></h3>
<p>L‚Äôacronyme  <em>RAID</em>  (Redundant Array of Independent Disks) d√©crit les solutions combinant plusieurs disques pour am√©liorer soit la performance, soit la tol√©rance de panne ‚Äì souvent les deux. Il existe plusieurs  <strong>niveaux de RAID</strong>courants, chacun avec ses caract√©ristiques :</p>
<ul>
<li>
<p><strong>RAID 0 (Striping)</strong> : donn√©es r√©parties (encha√Æn√©es) sur plusieurs disques pour augmenter le d√©bit. Offre des  <strong>performances maximales</strong>, id√©al quand la vitesse prime, mais  <strong>sans aucune redondance</strong>  ‚Äì la panne d‚Äôun seul disque entra√Æne la perte de toutes les donn√©es  . √Ä r√©server aux usages non critiques (cache, rendu vid√©o temporaire, etc.).</p>
</li>
<li>
<p><strong>RAID 1 (Mirroring)</strong> : les donn√©es sont  <strong>dupliqu√©es en miroir</strong>  sur deux disques (ou plus). Fournit une  <strong>excellente tol√©rance aux pannes</strong>  (on peut perdre un disque sans perte de donn√©es) mais au prix d‚Äôune capacit√© r√©duite de moiti√© (2 To + 2 To en RAID 1 = 2 To utiles)  . Performances en lecture √©lev√©es (on lit sur deux disques en parall√®le), √©criture un peu plus lente qu‚Äôun seul disque. Recommand√© pour stocker des donn√©es importantes sur peu de disques (2 disques) ou comme miroir du syst√®me.</p>
</li>
<li>
<p><strong>RAID 5</strong> : utilise un  <strong>parity striping</strong>  distribu√© ‚Äì les donn√©es sont r√©parties sur  <em>n-1</em>  disques et sur le disque restant est stock√©e une information de parit√© (calcul√©e) permettant de reconstruire les donn√©es d‚Äôun disque manquant. Ce niveau offre un  <strong>√©quilibre entre performance, capacit√© et redondance</strong>  : la lecture est rapide (plusieurs disques en parall√®le) et la capacit√© utilis√©e est optimis√©e (seulement l‚Äô√©quivalent d‚Äôun disque est ‚Äúsacrifi√©‚Äù pour la parit√©)  .  <strong>Tol√©rance de panne : 1 disque</strong>. Inconv√©nients : performances d‚Äô√©criture un peu moindres (calcul de la parit√©) et surtout reconstruction longue en cas de crash d‚Äôun disque. Si un second disque flanche pendant la reconstruction, les donn√©es sont perdues. RAID 5 convient aux espaces de stockage importants o√π on veut un compromis capacit√©/s√©curit√© raisonnable, mais on lui pr√©f√®re souvent RAID 6 aujourd‚Äôhui.</p>
</li>
<li>
<p><strong>RAID 6</strong> : variante de RAID 5 avec  <strong>deux blocs de parit√©</strong>  r√©partis, pouvant tol√©rer la panne  <strong>simultan√©e de 2 disques</strong>. La s√©curit√© est renforc√©e au prix d‚Äôune capacit√© utilisable l√©g√®rement inf√©rieure (l‚Äô√©quivalent de 2 disques sert de parit√©). C‚Äôest une solution robuste pour les baies de disques de grande capacit√©, au cas o√π un second disque l√¢che lors de la reconstruction du premier. Les performances sont un peu en de√ß√† du RAID 5 en √©criture (parit√© double √† calculer) mais restent acceptables en lecture et adapt√©es aux environnements exigeant une haute redondance  .</p>
</li>
<li>
<p><strong>RAID 10 (ou 1+0)</strong> : combinaison du mirroring et du striping. On associe des paires de disques en miroir (RAID 1) puis on agr√©ge ces miroirs en RAID 0 (striping entre les miroirs). On obtient ainsi  <strong>d‚Äôexcellentes performances</strong>(√©quivalentes √† RAID 0 sur lecture/√©criture)  <strong>ET une tol√©rance aux pannes √©lev√©e</strong>  (chaque paire peut tol√©rer une panne)  . Le RAID 10 n√©cessite au minimum 4 disques (et un nombre pair) et n‚Äôutilise que 50% de l‚Äôespace total (puisque mirroring). C‚Äôest une solution pris√©e pour les applications critiques n√©cessitant √† la fois d√©bit et fiabilit√© (par ex. un serveur de base de donn√©es dans un homelab). Co√ªt plus √©lev√© en nombre de disques, mais reconstruction rapide en cas de panne (on recopie simplement un miroir).</p>
</li>
<li>
<p><strong>JBOD (Just a Bunch Of Disks)</strong> : techniquement pas un RAID, le JBOD permet de concat√©ner des disques ind√©pendants l‚Äôun √† la suite de l‚Äôautre, ou simplement de les pr√©senter individuellement. Il n‚Äôy a  <strong>pas de gain de performance ni de redondance</strong>  ‚Äì c‚Äôest juste un moyen d‚Äôutiliser plusieurs disques comme un seul grand volume, ou comme disques s√©par√©s. Utile √©ventuellement pour maximiser la capacit√© de stockage brute quand la tol√©rance de panne n‚Äôest  <em>pas</em>  une priorit√©  .</p>
</li>
</ul>
<p><strong>RAID mat√©riel vs RAID logiciel :</strong>  Le RAID peut √™tre g√©r√©  <strong>soit par du mat√©riel d√©di√© (carte contr√¥leur RAID)</strong>, soit par le  <strong>syst√®me d‚Äôexploitation (RAID logiciel)</strong>. En RAID  <em>mat√©riel</em>, un contr√¥leur se charge de toutes les op√©rations de gestion des disques de mani√®re autonome (souvent avec sa propre m√©moire cache, parfois prot√©g√©e par batterie). Cela offre typiquement de meilleures performances sur des charges lourdes et soulage le CPU principal  . Le RAID mat√©riel apporte aussi souvent des options avanc√©es (ex. certains niveaux RAID suppl√©mentaires) et une ind√©pendance vis-√†-vis du syst√®me (le contr√¥leur pr√©sente un seul volume logique, utilisable par n‚Äôimporte quel OS)  . En contrepartie, ces cartes sont co√ªteuses et introduisent une d√©pendance : si la carte tombe en panne, il faut id√©alement la m√™me pour r√©cup√©rer l‚Äôarray.</p>
<p>Le  <strong>RAID logiciel</strong>, lui, s‚Äôappuie sur la puissance de calcul du processeur h√¥te pour g√©rer le RAID (ex: via mdadm/Linux ou Storage Spaces sous Windows). De nos jours, avec des CPU performants, le RAID logiciel offre des performances tr√®s honorables ‚Äì l‚Äôimpact est n√©gligeable pour des niveaux simples (RAID 1, 0)  , et reste raisonnable pour RAID 5/6 sur un homelab. L‚Äôavantage principal est le  <strong>co√ªt nul</strong>  (pas de mat√©riel additionnel) et une flexibilit√© accrue (migration possible d‚Äôun OS √† un autre dans certains cas, ajout de disques parfois plus souple)  . Cependant, le RAID logiciel peut √™tre un peu  <strong>plus lent</strong>  dans certains sc√©narios intensifs car il doit partager le CPU avec le reste du syst√®me  . Il est aussi li√© au logiciel : par exemple, un RAID logiciel Windows ne sera pas lisible sous Linux et vice-versa, ce qui peut compliquer une migration.</p>
<p>En r√©sum√©, pour un  <strong>homelab</strong>, un RAID logiciel (mdadm, espace de stockage ZFS/Btrfs, etc.) est souvent pr√©f√©rable pour √©viter les frais et la complexit√© mat√©rielle ‚Äì les performances sont largement suffisantes dans un contexte domestique. Le RAID mat√©riel se justifie surtout si vous avez d√©j√† une carte (serveur de r√©cup) ou pour des cas tr√®s sp√©cifiques (besoin d‚Äôun cache prot√©g√© par batterie, compatibilit√© multi-OS sur du dual-boot, etc.). Dans tous les cas,  <strong>RAID ‚â† backup</strong>  : m√™me avec redondance, une erreur humaine ou un ransomware peut d√©truire les donn√©es, d‚Äôo√π l‚Äôimportance des snapshots et sauvegardes que nous abordons ci-dessous.</p>
<h3 id="snapshots-restauration-instantanee-et-limites"><strong>Snapshots : restauration instantan√©e et limites</strong><a class="headerlink" href="#snapshots-restauration-instantanee-et-limites" title="Permanent link">&para;</a></h3>
<p>Les  <strong>snapshots</strong>  sont des points de restauration instantan√©s d‚Äôun volume ou syst√®me de fichiers, parfois appel√©s  <em>‚Äúphotographies‚Äù</em>  de l‚Äô√©tat des donn√©es √† un instant  <em>t</em>. Beaucoup de solutions de stockage modernes (ZFS, Btrfs, LVM, VMware, etc.) les proposent. Ils offrent la capacit√© de revenir en arri√®re rapidement apr√®s un probl√®me : par exemple, si une VM ou un dossier a √©t√© modifi√© par erreur, on peut restaurer le snapshot pr√©c√©dent en quelques secondes. Le principal avantage d‚Äôun snapshot par rapport √† une sauvegarde traditionnelle est la  <strong>rapidit√©</strong>  et la fr√©quence : on peut en cr√©er tr√®s souvent (par exemple toutes les heures) sans trop d‚Äôimpact, ce qui procure de nombreux points de restauration granulaires  . En cas d‚Äôincident, red√©marrer une VM ou restaurer un fichier √† partir d‚Äôun snapshot local est quasi imm√©diat, alors qu‚Äôune restauration depuis une backup compl√®te peut prendre beaucoup plus de temps.</p>
<p><strong>Limites des snapshots :</strong>  un snapshot n‚Äôest  <strong>pas une sauvegarde ind√©pendante</strong>. Contrairement √† une vraie copie de sauvegarde, un snapshot d√©pend du stockage principal : il stocke g√©n√©ralement seulement les diff√©rences (blocs modifi√©s) et pointe vers les blocs inchang√©s. Si le volume principal est perdu (panne hardware grave) ou corrompu, les snapshots sont perdus avec lui  . De plus, les snapshots consomment de l‚Äôespace sur le stockage d‚Äôorigine pour conserver les anciennes versions des blocs ‚Äì plus on en garde, plus on utilise d‚Äôespace (ils sont souvent auto-nettoy√©s au bout de X jours/heures pour √©viter de saturer le stockage). Il faut donc les voir comme des  <strong>outils compl√©mentaires</strong>  pour la restauration rapide, et non comme une solution de backup autonome. La  <strong>bonne pratique</strong>  est d‚Äôailleurs de combiner snapshots  <em>et</em>  sauvegardes  : les snapshots fournissent des points de reprise fr√©quents (par ex. horaires) sur le stockage principal, et les sauvegardes externes assurent la r√©cup√©ration en cas de perte totale du syst√®me (points de restauration quotidiens, hebdomadaires, conserv√©s hors du syst√®me principal)  .</p>
<p><strong>Outils de snapshots :</strong>  Pour en b√©n√©ficier dans un homelab, on peut s‚Äôappuyer sur ZFS (commandes  zfs snapshot, ou outils comme sanoid/syncoid pour automatiser), sur Btrfs (btrfs subvolume snapshot  et l‚Äôoutil Snapper pour la gestion automatis√©e). LVM propose aussi des snapshots de volumes logiques LVM qui peuvent servir √† prendre une image coh√©rente d‚Äôune partition ext4/xfs avant backup, par exemple. Sur Windows/VMware, on retrouve des fonctionnalit√©s similaires (Volume Shadow Copy, snapshots VMware). Attention √† l‚Äôimpact performance : la m√©thode de copy-on-write peut  <strong>ralentir les √©critures</strong>  en pr√©sence de snapshots nombreux (ce fut un probl√®me avec Btrfs, et m√™me ZFS subit un l√©ger impact au-del√† de centaines de snapshots). Il faut surveiller et purger les snapshots obsol√®tes.</p>
<p>En somme, les snapshots sont  <strong>formidables pour annuler une b√™tise</strong>  rapidement ou tester des mises √† jour, mais ils ne dispensent pas de faire de vraies sauvegardes sur un stockage s√©par√©. Utilisez-les comme premi√®re ligne de d√©fense (r√©cup√©ration quasi instantan√©e) en compl√©ment de vos backups.</p>
<h3 id="sauvegardes-strategies-locales-vs-cloud-outils-open-source"><strong>Sauvegardes : strat√©gies locales vs cloud, outils open source</strong><a class="headerlink" href="#sauvegardes-strategies-locales-vs-cloud-outils-open-source" title="Permanent link">&para;</a></h3>
<p>La sauvegarde est le pilier ultime d‚Äôun homelab s√©curis√©. Elle garantit qu‚Äôen cas de sinistre majeur (panne de plusieurs disques, vol ou incendie, erreur de manipulation irr√©versible), vos donn√©es pourront √™tre restaur√©es. On conseille souvent la r√®gle du  <strong>3-2-1</strong>  : 3 copies des donn√©es, sur au moins 2 supports diff√©rents, dont 1 copie  <em>offsite</em>  (hors site). Pour un homelab, cela peut se traduire par exemple par un NAS local + une sauvegarde sur disques externes + une r√©plication chiffr√©e vers le cloud.</p>
<p><strong>Sauvegardes locales (on-site) :</strong>  Elles offrent l‚Äôavantage de la  <strong>vitesse</strong>  et du contr√¥le. Il peut s‚Äôagir d‚Äôun disque USB de backup, d‚Äôun second NAS chez vous, ou m√™me d‚Äôune autre machine sur le r√©seau local qui re√ßoit des backups. L‚Äôoutil de base souvent utilis√© est  <strong>rsync</strong>  (ou son d√©riv√©  rsnapshot  pour g√©rer des rotations). Par exemple, on peut programmer un rsync quotidien de son dossier de documents vers un disque externe. Pour des solutions plus √©labor√©es et efficaces en espace, on se tournera vers des logiciels de sauvegarde d√©dupliqu√©s comme  <strong>BorgBackup</strong>  ou  <strong>restic</strong>. Ces outils open source permettent de sauvegarder des donn√©es (localement ou vers un serveur distant) en ne stockant qu‚Äôune seule fois les blocs identiques (d√©duplication), en compressant et en chiffrant les backups. Ils g√®rent en plus un syst√®me de r√©tentions (ex: garder 7 daily, 4 weekly, 6 monthly, etc.). D‚Äôapr√®s les retours de la communaut√©,  <em>Restic</em>  et  <em>Borg</em>  font partie des solutions les plus fiables actuellement (fiabilit√© primant sur la vitesse)  . Borg fonctionne en mode ‚Äúpush‚Äù (on peut lancer la sauvegarde depuis la source vers un repo distant via SSH), Restic √©galement et propose en plus un mode ‚Äúserveur REST‚Äù. Ce sont deux excellents choix pour un homelab, avec une l√©g√®re pr√©f√©rence pour Restic si l‚Äôon veut quelque chose de simple et efficace en ligne de commande (ou Borg pour ses performances en local/SSH)  .</p>
<p>Pour les environnements virtualis√©s, l‚Äôoutil  <em>Proxmox Backup Server (PBS)</em>  m√©rite d‚Äô√™tre mentionn√©. Il s‚Äôagit d‚Äôune solution de sauvegarde  <strong>open source</strong>  d√©di√©e aux VMs/CTs Proxmox, qui stocke de fa√ßon  <strong>incr√©mentale et d√©dupliqu√©e</strong>  les donn√©es afin d‚Äô√©conomiser √©norm√©ment d‚Äôespace  . PBS utilise en plus une compression ZSTD rapide et un chiffrement authentifi√© c√¥t√© client, ce qui le rend tr√®s efficace pour sauvegarder des machines virtuelles enti√®res en quelques minutes avec tr√®s peu de donn√©es transf√©r√©es apr√®s la premi√®re fois  . Dans un homelab, on peut par exemple avoir un petit serveur (ou VM) PBS qui r√©ceptionne les sauvegardes de toutes les VM/CT Proxmox r√©guli√®rement. L‚Äôinterface web PBS permet la restauration facile de VMs compl√®tes ou de fichiers individuels √† partir de ces backups.</p>
<p><strong>Sauvegardes distantes (cloud/off-site) :</strong>  Pour se prot√©ger des risques locaux (incendie, d√©g√¢t des eaux, vol), il est recommand√© d‚Äôavoir au moins une copie des donn√©es  <em>hors de chez vous</em>. Plusieurs approches s‚Äôoffrent √† un homelab : utiliser un service de cloud public (p.ex. stockage objet type Backblaze B2, AWS S3, Wasabi‚Ä¶ ou m√™me un stockage chiffr√© sur Google Drive, etc.), ou bien synchroniser vers un autre site (par ex, un NAS chez un ami/famille). Les outils comme  <strong>restic</strong>  brillent ici car ils supportent nativement de nombreuses destinations cloud (Backblaze, AWS, Azure, rclone, etc.) et chiffrent tout automatiquement.  <strong>Duplicati</strong>  est une autre solution populaire avec une interface graphique web, permettant de sauvegarder chiffr√© vers divers clouds (c‚Äôest un logiciel libre qui segmente les fichiers et g√®re versions/chiffrement). On peut aussi citer  <strong>Rclone</strong>  qui, coupl√© √† un cryptage, permet de synchroniser dossiers et backups vers des clouds comme on le ferait avec un rsync (sans gestion de versions toutefois).</p>
<p><strong>Strat√©gie recommand√©e :</strong>  En homelab, on peut combiner un NAS local pour les sauvegardes rapides et un envoi cloud hebdomadaire/mensuel des donn√©es critiques chiffr√©es. Par exemple, backups quotidiens sur un disque local ou NAS via Borg, puis une fois par semaine, on envoie les nouvelles archives Borg sur un stockage cloud (Borg peut utiliser rclone pour cela). Ainsi on a une sauvegarde locale pour les urgences, et une copie externe pour le pire cas. Le versioning de plusieurs g√©n√©rations est important pour pouvoir r√©cup√©rer m√™me en cas de fichiers corrompus ou chiffr√©s par un ransomware (on restaure une version plus ancienne propre). Enfin,  <strong>tester les restaurations</strong>  r√©guli√®rement est crucial ‚Äì une sauvegarde non test√©e ne peut pas √™tre consid√©r√©e comme fiable !</p>
<p>En r√©sum√©,  <em>snapshot, RAID et backup forment un trio compl√©mentaire</em>. Dans un homelab s√©curis√©, on configurera id√©alement un RAID pour parer la panne d‚Äôun disque, des snapshots fr√©quents pour rattraper imm√©diatement les erreurs/logiques, et des sauvegardes d√©port√©es pour se pr√©munir contre les catastrophes majeures. Cela peut sembler complexe, mais de nombreux outils libres sont l√† pour automatiser ces t√¢ches et rendre votre stockage quasiment aussi robuste que dans un environnement pro üòâ.</p>
<h2 id="integration-dun-nas-et-stockage-centralise-avec-proxmox"><strong>Int√©gration d‚Äôun NAS et stockage centralis√© avec Proxmox</strong><a class="headerlink" href="#integration-dun-nas-et-stockage-centralise-avec-proxmox" title="Permanent link">&para;</a></h2>
<p>Beaucoup de hobbyistes disposent d‚Äôun  <strong>NAS</strong>  (Network Attached Storage) √† la maison pour centraliser les fichiers, les sauvegardes ou m√™me h√©berger des m√©dias. Int√©grer ce NAS avec votre serveur de virtualisation (tel que  <strong>Proxmox VE</strong>) permet d‚Äôoffrir un stockage mutualis√© aux VMs/containers, voire de  <em>booter</em>  des machines depuis le NAS. Dans cette section, nous comparons bri√®vement les solutions NAS populaires et expliquons comment les lier √† Proxmox.</p>
<h3 id="truenas-vs-synology-vs-openmediavault-solutions-nas-comparees"><strong>TrueNAS vs Synology vs OpenMediaVault : solutions NAS compar√©es</strong><a class="headerlink" href="#truenas-vs-synology-vs-openmediavault-solutions-nas-comparees" title="Permanent link">&para;</a></h3>
<p><strong>TrueNAS (Core ou Scale)</strong>  ‚Äì Solution logicielle NAS open-source d√©riv√©e de FreeNAS. TrueNAS Core est bas√© sur FreeBSD, TrueNAS Scale sur Debian Linux, mais les deux utilisent  <strong>ZFS</strong>  en syst√®me de fichiers principal. TrueNAS offre une interface web riche et des fonctionnalit√©s avanc√©es (support natif de SMB, NFS, iSCSI, snapshots ZFS, r√©plication, plugins/VMs sur la version Scale). C‚Äôest une solution  <strong>puissante mais un peu complexe</strong>  √† ma√Ætriser, orient√©e utilisateurs techniques. Son point fort est d‚Äôembarquer ZFS nativement, avec tout ce que cela implique (int√©grit√©, RAID-Z, etc.) ‚Äì aucun autre FS n‚Äôest propos√©. TrueNAS convient √† ceux qui veulent tirer le maximum de leur NAS sur du mat√©riel choisi par leurs soins.</p>
<p><strong>Synology DSM</strong>  ‚Äì Syst√®me propri√©taire qu‚Äôon retrouve pr√©install√© sur les NAS Synology commerciaux. DSM est r√©put√© pour sa  <strong>convivialit√©</strong>  et son √©cosyst√®me logiciel (de nombreuses apps int√©gr√©es : gestion photos, vid√©os, cloud sync, etc.). C√¥t√© stockage, les NAS Synology supportent selon les mod√®les EXT4 ou Btrfs (sur les mod√®les + r√©cents, Btrfs apporte les snapshots, la d√©tection de corruption et la compression). Synology propose des  <strong>RAID classiques et propri√©taires (SHR)</strong>  pour faciliter l‚Äôutilisation de disques de tailles vari√©es. Les protocoles pris en charge incluent SMB/CIFS, NFS, AFP (pour Mac) et iSCSI (souvent sur les gammes Plus/enterprise). Le gros avantage de Synology est le  <strong>‚Äútout-en-un pr√™t √† l‚Äôemploi‚Äù</strong>  : on branche, on a une interface limpide, et c‚Äôest parti. La contrepartie est la d√©pendance √† l‚Äô√©cosyst√®me Synology (mat√©riel d√©di√©, OS ferm√©). Pour un homelab, un NAS Synology convient si on privil√©gie la simplicit√© et la fiabilit√© √©prouv√©e d‚Äôune solution commerciale, quitte √† sacrifier un peu de souplesse. D‚Äôailleurs, pour un usage home, Synology DSM a globalement plus d‚Äôatouts pr√™ts √† l‚Äôemploi (simplicit√©, applis) qu‚Äôune solution DIY comme TrueNAS  . Un NAS Synology cl√© en main est souvent  <strong>le meilleur choix ‚Äúhome use‚Äù</strong>  lorsque l‚Äôobjectif n‚Äôest pas de bricoler le hardware ou d‚Äôavoir absolument ZFS  . La pr√©sence de Btrfs sur de nombreux mod√®les Synology offre d√©j√† un niveau de s√©curit√© (snapshots locaux, auto-r√©paration en RAID 1) suffisant pour beaucoup d‚Äôusages domestiques.</p>
<p><strong>OpenMediaVault (OMV)</strong>  ‚Äì Distribution NAS open-source bas√©e sur Debian. OMV fournit une interface web l√©g√®re pour configurer des services de partage (SMB, FTP, NFS, Rsync, etc.), g√©rer des utilisateurs et plugins. Contrairement √† TrueNAS, OMV n‚Äôimpose pas ZFS : on peut utiliser EXT4, XFS ou Btrfs sur les volumes (et on peut ajouter le plugin ZFS si on souhaite). OMV se veut  <strong>simple et extensible</strong>  via des plugins (par ex, plugin pour activer iSCSI, plugin pour docker, etc.). C‚Äôest sans doute la solution qui se rapproche le plus d‚Äôun ‚ÄúNAS maison minimaliste‚Äù ‚Äì id√©ale pour recycler un vieux PC ou un Raspberry Pi en NAS. Niveau fonctionnalit√©s, de base c‚Äôest plus  <em>sobre</em>  que TrueNAS ou Synology : pas de snapshots sans plugin (Btrfs ou ZFS), pas de gestion pouss√©e de volumes hors RAID logiciel standard (mdadm). En somme,  <strong>OMV est fonctionnel mais minimal</strong>  en standard, ce qui implique parfois de mettre la main √† la p√¢te ou d‚Äôinstaller des plugins/shell pour des besoins avanc√©s  . Son point fort reste la  <strong>flexibilit√©</strong>  (on a un Debian sous le capot, donc on peut installer tout ce qu‚Äôon veut √† c√¥t√©, y compris Portainer, etc.) et une empreinte relativement l√©g√®re.</p>
<p><strong>Comparatif rapide</strong> : TrueNAS et OMV sont comparables (solutions libres √† installer soi-m√™me), alors que Synology est une solution commerciale compl√®te. TrueNAS mise sur ZFS et l‚Äôapproche enterprise, OMV sur la simplicit√© Debian. Synology, de son c√¥t√©, offre une exp√©rience utilisateur polie mais plus ferm√©e. Si l‚Äôon compare TrueNAS vs OMV : TrueNAS est plus  <strong>puissant mais requiert une courbe d‚Äôapprentissage plus raide</strong>, OMV est plus simple mais avec moins de fonctionnalit√©s pr√™tes √† l‚Äôemploi  . Entre TrueNAS et Synology : Synology l‚Äôemporte en  <strong>ergonomie</strong>  et int√©gration cl√©-en-main (id√©al si vous ne voulez pas ‚Äútinkerer‚Äù), TrueNAS l‚Äôemporte en  <strong>contr√¥le et performances brutes</strong>(vous choisissez votre mat√©riel, vous avez ZFS et pouvez tout tuner)  . D‚Äôapr√®s un comparatif,  <em>‚ÄúDSM (Synology) a plus d‚Äôavantages globalement pour un usage maison, alors que TrueNAS s‚Äôadresse √† ceux qui veulent construire leur NAS eux-m√™mes pour profiter sp√©cifiquement des capacit√©s de ZFS‚Äù</em>  . Enfin, toutes ces solutions supportent les  <strong>protocoles standard</strong>  de partage :  <strong>SMB/CIFS</strong>  (partages Windows),  <strong>NFS</strong>  (partage Unix), et souvent  <strong>iSCSI</strong>  (cible disque en r√©seau) ‚Äì sur OMV il faudra un plugin pour iSCSI, TrueNAS et Synology le g√®rent nativement. On peut donc s‚Äôattendre √† pouvoir monter les volumes du NAS sur √† peu pr√®s n‚Äôimporte quel syst√®me, y compris Proxmox.</p>
<h3 id="integrer-un-nas-a-proxmox-ve-nfs-smb-iscsi"><strong>Int√©grer un NAS √† Proxmox VE (NFS, SMB, iSCSI)</strong><a class="headerlink" href="#integrer-un-nas-a-proxmox-ve-nfs-smb-iscsi" title="Permanent link">&para;</a></h3>
<p>Proxmox VE, la plateforme de virtualisation, permet d‚Äôajouter des stockages externes (dits  <em>Storage</em>) pour y loger soit des images de disques VM/CT, soit des ISO, templates ou backups. Un NAS est un candidat id√©al pour cela, afin de  <strong>centraliser le stockage</strong>  accessible par plusieurs h√¥tes Proxmox √©ventuellement.</p>
<p>Les deux m√©thodes les plus courantes pour attacher un NAS √† Proxmox sont  <strong>NFS</strong>  (partage de fichiers en r√©seau) et  <strong>iSCSI</strong>(partage de bloc disque en r√©seau). SMB/CIFS est parfois utilis√© aussi, mais Proxmox ne propose pas de backend SMB natif dans l‚Äôinterface (on peut toujours monter un CIFS via fstab ou autre, mais ce n‚Äôest pas ‚Äúfirst-class citizen‚Äù). On privil√©giera donc NFS pour du partage de fichiers, ou iSCSI pour pr√©senter un  <strong>disque r√©seau</strong>.</p>
<p><em>Exemple d‚Äôajout d‚Äôun stockage NFS dans l‚Äôinterface Proxmox 
VE.</em></p>
<p>Dans l‚Äôinterface web Proxmox, il suffit d‚Äôaller dans  <strong>Datacenter -&gt; Storage -&gt; Add -&gt; NFS</strong>  pour d√©clarer un partage NFS export√© par le NAS. On renseigne l‚ÄôIP du NAS, le chemin export√© et on choisit le type de contenu (par ex.  VZDump backup files  pour y stocker les sauvegardes, ou  Disk image  pour y mettre des images de VM). Ce montage NFS sera ensuite visible comme un stockage dans Proxmox. L‚Äôint√©r√™t est qu‚Äôun NFS √©tant accessible depuis plusieurs n≈ìuds, on peut s‚Äôen servir pour  <strong>partager des ISOs</strong>  ou permettre la  <strong>migration de VM</strong>  entre h√¥tes sans avoir √† d√©placer leurs disques (si tous les Proxmox montent le m√™me stockage NFS centralis√©). C√¥t√© NAS, on veillera aux permissions (autoriser l‚ÄôIP du serveur Proxmox). Un partage NFS est id√©al pour stocker des backups ou des mod√®les de VM, voire des disques de VM si la performance r√©seau est suffisante.</p>
<p>Pour des performances optimales sur des  <strong>disques VM</strong>  however, le  <strong>iSCSI</strong>  est souvent pr√©f√©r√©. Le iSCSI permet de pr√©senter un volume de bloc distant que Proxmox traite comme un disque physique. On peut ainsi, sur le NAS, cr√©er une  <em>LUN iSCSI</em>  (volume logique) et la connecter √† Proxmox (<strong>Add -&gt; iSCSI</strong>  dans l‚Äôinterface). Proxmox verra alors un disque et pourra soit l‚Äôutiliser tel quel pour une VM, soit ‚Äì plus g√©n√©ralement ‚Äì le formater en LVM pour y cr√©er de multiples volumes VM. L‚Äôapproche classique est :  <strong>cible iSCSI</strong>  sur le NAS -&gt;  <strong>Initiateur iSCSI</strong>  c√¥t√© Proxmox qui se connecte -&gt; on cr√©e un  <strong>Volume Group LVM</strong>  sur la LUN iSCSI -&gt; Proxmox peut y cr√©er des volumes logiques pour chaque VM. Cette configuration offre des performances proches d‚Äôun stockage local (surtout en multipath 10 Gb/s, etc.) et convient bien pour des VM exigeantes en IOPS. D‚Äôapr√®s les retours,  <em>‚ÄúiSCSI est meilleur pour les IOPS, tandis que NFS se d√©brouille bien en d√©bit s√©quentiel‚Äù</em>  sur des NAS TrueNAS  . Par exemple, pour h√©berger des  <strong>VMs de base de donn√©es</strong>  sur le NAS, iSCSI sera un bon choix.</p>
<p>Une autre option, si votre NAS g√®re ZFS (ex: TrueNAS), est d‚Äôutiliser le plugin  <strong>ZFS over iSCSI</strong>  de Proxmox. Ce plugin va en fait orchestrer la cr√©ation de volumes ZFS (zvol) sur le NAS via SSH, et les exposer en iSCSI. Ainsi, chaque disque de VM correspondra √† un  <strong>zvol ZFS</strong>  sur le NAS, b√©n√©ficiant des snapshots ZFS, etc.  . Proxmox supporte plusieurs cibles (par exemple istgt pour FreeBSD/TrueNAS Core, ou LIO pour Linux/TrueNAS Scale). √Ä noter toutefois, de base Proxmox ne supporte pas directement l‚ÄôAPI TrueNAS, il faut souvent configurer en mode ‚ÄúManual + target LIO/istgt‚Äù ou utiliser des scripts tiers  . L‚Äôeffort en vaut la chandelle si on veut combiner la  <strong>souplesse de Proxmox</strong>  (cr√©er/supprimer VMs) et les  <strong>avantages ZFS</strong>  c√¥t√© NAS (coh√©rence et sauvegardes c√¥t√© stockage). Veillez dans ce cas √† ce que votre NAS ZFS soit fiable et bien sauvegard√©, car il devient un point central (une panne du NAS rendrait tous ces volumes indisponibles ‚Äì penser √† la redondance du NAS lui-m√™me !).</p>
<p>En r√©sum√©,  <strong>int√©grer un NAS √† Proxmox</strong>  se fait bien via NFS ou iSCSI. Utilisez NFS pour les contenus file (sauvegardes, iso) ou m√™me des VM peu critiques (petits services, lab). Pour des charges plus intensives ou une int√©gration fine, iSCSI est tout indiqu√©, √©ventuellement coupl√© √† LVM ou ZFS-over-iSCSI. Proxmox offre ainsi une grande flexibilit√© pour tirer parti d‚Äôun NAS existant et centraliser le stockage de votre homelab.</p>
<h2 id="grille-daide-au-choix-du-stockage"><strong>Grille d‚Äôaide au choix du stockage</strong><a class="headerlink" href="#grille-daide-au-choix-du-stockage" title="Permanent link">&para;</a></h2>
<p>Enfin, comment choisir physiquement ses supports de stockage dans un homelab s√©curis√© ? Disques durs magn√©tiques traditionnels (HDD) ou m√©moire flash (SSD/NVMe) ? Ou un m√©lange des deux ? La d√©cision d√©pend de  <strong>plusieurs crit√®res</strong>  : le  <strong>budget par Go</strong>, les besoins de  <strong>performances</strong>  (IOPS, latence, d√©bit), la  <strong>fiabilit√©/long√©vit√©</strong>  attendue, et bien s√ªr le  <strong>type de donn√©es</strong>  stock√©es (base de donn√©es VM tr√®s active, archives media peu acc√©d√©es, etc.). Le tableau suivant r√©sume les options principales avec leurs atouts et limites, ainsi que des sc√©narios types o√π elles brillent.</p>
<table>
<thead>
<tr>
<th><strong>Solution de stockage</strong></th>
<th><strong>Co√ªt</strong> <strong>(‚âà ‚Ç¨/To)</strong></th>
<th><strong>Performances</strong> <strong>(d√©bit / IOPS)</strong></th>
<th><strong>Long√©vit√© &amp; endurance</strong></th>
<th><strong>Sc√©narios d‚Äôusage typiques</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Disque dur (HDD)</strong></td>
<td>üü¢  <strong>Faible</strong>  ‚Äì Le plus √©conomique par To. Ex: ~15‚Äì20 ‚Ç¨ par To pour des disques de 8‚Äì14 To.</td>
<td>üî¥  <strong>Faibles IOPS</strong>, latence √©lev√©e. D√©bit s√©quentiel mod√©r√© (~80‚Äì160 Mo/s typique pour 7200 tpm)  . Adapt√© aux gros fichiers, moins aux acc√®s al√©atoires rapides.</td>
<td>üü†  <strong>Usure faible</strong>  (pas de limite d‚Äô√©criture comme les SSD, mais pi√®ces m√©caniques sensibles). Dur√©e de vie variable (5‚Äì10 ans typiques), attention √† la casse m√©canique.</td>
<td>Stockage de masse √©conomique :  <strong>archives, sauvegardes, m√©dias</strong>  (films, photos) non critiques en latence. Ex: NAS de sauvegarde ou serveur multim√©dia (Plex) stockant des vid√©os -&gt; un HDD de grande capacit√© convient.</td>
</tr>
<tr>
<td><strong>SSD SATA / NVMe</strong></td>
<td>üî¥  <strong>√âlev√©</strong>  ‚Äì Plus cher par Go. Ex: ~100 ‚Ç¨ par To pour SSD SATA grand public, encore plus pour NVMe haute perf.</td>
<td>üü¢  <strong>Tr√®s bonnes performances</strong>. D√©bit SATA 500+ Mo/s, NVMe &gt;3‚Äì5 Go/s  . Surtout, IOPS et latences excellents (100√ó un HDD). Id√©al pour acc√®s concurrents, OS et bases de donn√©es.</td>
<td>üü°  <strong>Endurance limit√©e</strong>  : chaque cellule flash supporte un nombre fini d‚Äô√©critures (TBW donn√© par le fabricant). Dur√©e de vie ~5 ans grand public, plus en gamme pro. Pas de pi√®ces mobiles (plus robuste aux chocs).</td>
<td>Donn√©es n√©cessitant  <strong>vitesse et r√©activit√©</strong>  :  <strong>disque syst√®me</strong>  (VM/OS),  <strong>VMs et containers</strong>  actifs, bases de donn√©es, cache d‚Äôapplication. Ex: stockage principal d‚Äôun  <strong>serveur de virtualisation</strong>  (Proxmox) -&gt; privil√©gier un bon SSD/NVMe pour les disques VM afin d‚Äôassurer des IOPS √©lev√©es aux machines.</td>
</tr>
<tr>
<td><strong>Hybride (SSD cache + HDD)</strong></td>
<td>üü°  <strong>Moyen</strong>  ‚Äì Combine un SSD (petite capacit√©) et des HDD (grande capacit√©). Co√ªt total interm√©diaire (on ajoute le prix d‚Äôun SSD cache au co√ªt des HDD).</td>
<td>üü†  <strong>Performances mixtes</strong>  : Le SSD sert de  <strong>cache</strong>  en lecture (et parfois en √©criture) pour acc√©l√©rer l‚Äôacc√®s aux donn√©es ¬´ chaudes ¬ª. Les lectures fr√©quentes viennent du SSD (tr√®s rapide), le reste sur HDD (lent). En √©criture, selon config, le SSD peut absorber puis d√©stager. Performance  <strong>h√©t√©rog√®ne</strong> : excellente sur donn√©es en cache, m√©diocre sur acc√®s direct disque.</td>
<td>üü°  <strong>Endurance variable</strong>  : le SSD cache encaisse beaucoup d‚ÄôI/O (risque d‚Äôusure si utilisation intensive, pr√©f√©rer un SSD endurant). Les HDD derri√®re subissent moins de sollicitations al√©atoires (plut√¥t s√©quentielles lors du vidage de cache). L‚Äôensemble reste tributaire des disques m√©caniques pour la fiabilit√© g√©n√©rale.</td>
<td><strong>Compromis capaciti√©/performance</strong>  : id√©al quand on a beaucoup de donn√©es peu souvent acc√©d√©es, et un sous-ensemble ¬´ chaud ¬ª fr√©quemment utilis√©. Ex: un  <strong>NAS Plex/Emby</strong>  avec SSD cache pour les index et les vid√©os r√©cemment lues, coupl√© √† des HDD pour stocker la vaste biblioth√®que. Autre exemple : un  <strong>stockage Ceph</strong>  dans un homelab qui utilise des SSD NVMe comme acc√©l√©rateurs (DB/WAL) pour des OSD sur HDD.</td>
</tr>
</tbody>
</table>
<p><strong>Remarques finales :</strong>  Le choix peut √™tre  <strong>combinatoire</strong>  ‚Äì par exemple un homelab bien √©quip√© pourra utiliser un  <strong>SSD NVMe comme cache ou tier</strong>  pour acc√©l√©rer un pool principal en HDD (via L2ARC/ZIL de ZFS, cache SSD sur un NAS Synology, ou bcache sous Linux). On peut aussi adopter une approche par type de donn√©es : les donn√©es ‚Äúchaudes‚Äù (VM en cours d‚Äôex√©cution, base SQL) sur du SSD rapide, les donn√©es ‚Äúfroides‚Äù (backups, archives m√©dias) sur du HDD √† haute capacit√©. Pensez √©galement √† la  <strong>consommation et au bruit</strong>  : un HDD consomme ~5‚Äì10 W et peut √™tre bruyant, contre ~1‚Äì2 W silencieux pour un SSD. Dans un homelab √† la maison, cela peut compter.</p>
<p>Enfin, concernant la  <strong>long√©vit√©</strong>, les √©tudes montrent que les SSD n‚Äôont plus grand-chose √† envier aux HDD en usage courant ‚Äì leurs taux de panne convergent et d√©passent rarement 1‚Äì2% par an. Les SSD actuels, s‚Äôils sont dimensionn√©s correctement en capacit√© par rapport aux √©critures (√©viter de remplir √† 100% et choisir un mod√®le avec TBW suffisant), tiendront plusieurs ann√©es sans souci. Les HDD, eux, doivent √™tre surveill√©s (SMART) pour anticiper les secteurs d√©fectueux et les pannes m√©caniques. Dans tous les cas, une infrastructure de stockage s√©curis√©e doit accepter qu‚Äôun support finira  <em>forc√©ment</em>  par faillir : d‚Äôo√π l‚Äôimportance du  <strong>RAID</strong>  pour la continuit√© de service, et des  <strong>sauvegardes</strong>  pour la r√©cup√©ration des donn√©es. Avec ces bonnes pratiques et un choix judicieux de technologies adapt√© √† vos besoins (et votre budget), votre homelab pourra allier  <strong>performance, capacit√© et s√©r√©nit√©</strong>  quant √† la protection de vos pr√©cieuses donn√©es.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.sections", "navigation.expand", "toc.integrate", "content.code.annotate", "search.highlight", "search.suggest"], "search": "../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copi\u00e9 dans le presse-papier", "clipboard.copy": "Copier dans le presse-papier", "search.result.more.one": "1 de plus sur cette page", "search.result.more.other": "# de plus sur cette page", "search.result.none": "Aucun document trouv\u00e9", "search.result.one": "1 document trouv\u00e9", "search.result.other": "# documents trouv\u00e9s", "search.result.placeholder": "Taper pour d\u00e9marrer la recherche", "search.result.term.missing": "Non trouv\u00e9", "select.version": "S\u00e9lectionner la version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.56ea9cef.min.js"></script>
      
    
  </body>
</html>